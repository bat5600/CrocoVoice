# Epic 5 — Context Capture, Retention, and Redaction

## Status
Draft

## Story
**As a** user,
**I want** transparent context capture with clear retention rules,
**so that** I can trust how my data is handled.

## Acceptance Criteria
1. Context signals are explicitly listed and categorized (app name, window title, url, ax/textbox, screenshot).
2. Each signal can be enabled/disabled globally and per app.
3. Sensitive signals (ax/textbox, screenshot) are opt-in and off by default.
4. Retention rules are enforced (time-based or size-based) with user controls (default: 30 days).
5. Users can delete all stored context immediately from settings.
6. Redaction rules apply before any sync or AI requests (mask emails, phone numbers, and long numeric sequences).

## Tasks / Subtasks
- [ ] Add context signal registry and settings UI (AC: 1,2,3)
- [ ] Implement retention policy (TTL or size caps) for stored context (AC: 4)
- [ ] Add “delete all context” action in settings (AC: 5)
- [ ] Implement redaction pipeline before AI/sync (AC: 6)

## Dev Notes
- Default capture: app name, window title, url (when available).
- Optional capture: ax/textbox snapshot, screenshot.
- Never sync screenshots unless explicitly enabled.
- Retention should purge by age first; if size caps are used, purge oldest first.

### Testing
- Manual: toggle each signal, verify stored data and retention.
- Manual: ensure redaction removes sensitive content.

## Change Log
| Date | Version | Description | Author |
| --- | --- | --- | --- |
| 2026-01-24 | v0.1 | New story for context capture governance | PO |

## Dev Agent Record
### Agent Model Used
TBD

### Debug Log References
N/A

### Completion Notes List
- TBD

### File List
- TBD

## QA Results
