# Epic 12 â€” CrocOmni Context Injection and Redaction

## Status
Draft

## Story
**As a** user,
**I want** CrocOmni to optionally use context safely,
**so that** responses are better without compromising privacy.

## Acceptance Criteria
1. Context injection is opt-in globally and per app.
2. Supported context signals: app name, window title, URL, and optional ax/textbox/screenshot if enabled.
3. Redaction rules are applied before sending any context to providers.
4. UI clearly shows when context is being used for a message.
5. If context capture fails, CrocOmni still responds without blocking.

## Tasks / Subtasks
- [ ] Add global + per-app context injection toggles for CrocOmni (AC: 1)
- [ ] Implement context assembly using existing context capture service (AC: 2)
- [ ] Add redaction filters for sensitive content (AC: 3)
- [ ] Add UI indicator when context is attached (AC: 4)
- [ ] Ensure graceful fallback on capture errors (AC: 5)

## Dev Notes
- Reuse Epic 5 context capture settings; CrocOmni should not bypass user privacy choices.
- Keep context payload small (summaries, not raw dumps) unless explicitly enabled.

### Testing
- Manual: toggle context on/off, verify indicator, verify redaction, force capture failure.

## Change Log
| Date | Version | Description | Author |
| --- | --- | --- | --- |
| 2026-01-25 | v0.1 | New story for CrocOmni context injection | PO |

## Dev Agent Record
### Agent Model Used
TBD

### Debug Log References
N/A

### Completion Notes List
- TBD

### File List
- TBD

## QA Results
