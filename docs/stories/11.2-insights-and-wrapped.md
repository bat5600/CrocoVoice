# Epic 11 — Insights and Wrapped

## Status
InProgress

## Story
**As a** user,
**I want** usage insights and a Wrapped summary,
**so that** I can track progress and feel motivated.

## Acceptance Criteria
1. Insights show: top apps, WPM, dictation time, and **streaks** computed from local history.
2. Wrapped summary is generated locally and respects privacy settings (no upload by default).
3. Insights can be filtered by time range (7/30/90 days).
4. Metrics remain available offline and do not require telemetry opt-in.
5. Insights rendering is fast for >= 200 history entries.
6. Dashboard summary prioritizes streaks; “active days” is not shown by default. If shown anywhere, it is explicitly defined as “distinct days with ≥1 dictation”.
7. Clicking the “total notes” metric navigates to the Notes tab.

## Tasks / Subtasks
- [x] Define metrics queries on local history (AC: 1,3)
- [x] Implement insights UI in hub (AC: 1,3,5)
- [x] Add Wrapped summary generation + UI (AC: 2)
- [x] Ensure privacy gating for any optional sharing/export (AC: 2,4)
- [ ] Adjust dashboard summary to focus on streaks (remove/de-emphasize active days) (AC: 6)
- [ ] Make “total notes” metric clickable → opens Notes tab (AC: 7)

## Dev Notes
- Use local history + metrics fields (Epic 4.5) as the source of truth.
- Avoid remote dependencies; telemetry opt-in only affects export/sharing, not local compute.

### Testing
- Manual: verify metrics for small and large history sets, offline mode, and time-range filters.

## Change Log
| Date | Version | Description | Author |
| --- | --- | --- | --- |
| 2026-01-25 | v0.1 | New story for insights + Wrapped | PO |
| 2026-02-01 | v0.2 | Video review: prefer streaks everywhere + total notes card navigates to Notes | PM |

## Dev Agent Record
### Agent Model Used
GPT-5.2-Codex

### Debug Log References
N/A

### Completion Notes List
- Added local insights aggregation and Wrapped-style summary.
- Exposed insights in dashboard with offline-safe metrics.

### File List
- main.js
- dashboard.js
- dashboard.html

## QA Results
