# Epic 9 â€” Status Bubble and Context Menu UX

## Status
Ready for Review

## Story
**As a** user,
**I want** quick controls in a status bubble and context menu,
**so that** I can adjust mic/language and inspect polish without opening the hub.

## Acceptance Criteria
1. Status bubble shows recording state, audio level, mic, and language.
2. Mic selection dialog with volume indicator is available from bubble.
3. Context menu provides quick actions (paste last transcript, open settings, open polish diff).
4. Polish diff viewer shows before/after text and can auto-close safely.
5. All UX behaviors are gated by feature flags for safe rollout.
6. Bubble is non-intrusive (always-on-top).

## Tasks / Subtasks
- [x] Add status bubble indicators and mic/language controls (AC: 1,2)
- [x] Implement context menu window and quick actions (AC: 3)
- [x] Implement polish diff viewer (AC: 4)
- [x] Gate new surfaces behind feature flags (AC: 5)
- [x] Ensure non-intrusive always-on-top behavior (AC: 6)

## Dev Notes
- Keep hub as deep management UI; bubble/menu should be lightweight.
- Use IPC domains for status events and polish events.
- Bubble should avoid stealing focus during dictation.

### Testing
- Manual: mic switch, language switch, paste last transcript, diff open/close.

## Change Log
| Date | Version | Description | Author |
| --- | --- | --- | --- |
| 2026-01-24 | v0.1 | New epic for bubble/menu UX | PO |
| 2026-01-25 | v0.2 | Removed click-through and repositioning requirements | PO |

## Dev Agent Record
### Agent Model Used
GPT-5 (Codex CLI)

### Debug Log References
- node test-core.js

### Completion Notes List
- Added context menu actions, mic/language submenus, and polish diff view.
- Kept the bubble non-intrusive and always-on-top.
- Wired feature-flag gating for status bubble and context menu.

### File List
- index.html
- renderer.js
- main.js
- dashboard.html
- dashboard.js
- preload.js

## QA Results
