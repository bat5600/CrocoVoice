# Risk Profile: Story 1.1

Date: 2026-01-15
Reviewer: Quinn (Test Architect)

## Executive Summary

- Total Risks Identified: 7
- Critical Risks: 0
- High Risks: 2
- Risk Score: 64/100

## Critical Risks Requiring Immediate Attention

None.

## Risk Distribution

### By Category

- Security: 0 risks (0 critical)
- Performance: 1 risks (0 critical)
- Data: 1 risks (0 critical)
- Business: 1 risks (0 critical)
- Operational: 1 risks (0 critical)
- Technical: 3 risks (0 critical)

### By Component

- Frontend (renderer/widget): 2 risks
- Backend (main process/state): 3 risks
- Database: 0 risks
- Infrastructure: 0 risks

## Detailed Risk Register

| Risk ID  | Title | Probability | Impact | Score | Priority | Mitigation (summary) |
| -------- | ----- | ----------- | ------ | ----- | -------- | -------------------- |
| TECH-001 | State desync between main and renderer | Medium (2) | High (3) | 6 | High | Centralize state in main process, atomic transitions, strict IPC contract |
| TECH-002 | Duplicate start/stop from shortcut + widget | High (3) | Medium (2) | 6 | High | Global debounce/lock around start/stop and idempotent transitions |
| TECH-003 | Error recovery leaves app in unstable state | Medium (2) | Medium (2) | 4 | Medium | Explicit error -> stable state transition, retry-safe cleanup |
| BUS-001  | User perceives dictation as unreliable | Medium (2) | Medium (2) | 4 | Medium | UX feedback for states, clear retry messaging, avoid silent failures |
| PERF-001 | Added state machine/IPC chatter increases CPU/latency | Low (1) | Medium (2) | 2 | Low | Measure latency, avoid busy loops, batch IPC updates |
| OPS-001  | Insufficient logging of lifecycle errors | Medium (2) | Low (1) | 2 | Low | Structured logs for transitions and errors, include correlation ids |
| DATA-001 | Recording buffer loss on error recovery | Low (1) | Medium (2) | 2 | Low | Ensure cleanup does not discard buffers prematurely |

## Risk-Based Testing Strategy

### Priority 1: High Risk Tests

- Start/stop from shortcut and widget in rapid succession; confirm idempotent transitions and no double recording.
- Main/renderer state sync tests: simulate out-of-order IPC and verify renderer reflects main state only.

### Priority 2: Medium Risk Tests

- Error injection during recording: ensure app returns to stable idle state and can restart.
- UX state feedback checks: widget and renderer show consistent state after error/retry.

### Priority 3: Medium/Low Risk Tests

- CPU/latency baseline vs current on typical dictation flow.
- Logging presence and clarity for lifecycle errors.
- Buffer retention check across error recovery.

## Risk Acceptance Criteria

### Must Fix Before Production

- All high risks (score 6): TECH-001, TECH-002

### Can Deploy with Mitigation

- Medium risks with compensating controls: TECH-003, BUS-001

### Accepted Risks

- Low risks with monitoring: PERF-001, OPS-001, DATA-001

## Monitoring Requirements

Post-deployment monitoring for:

- Error rate for lifecycle transitions and recording failures
- CPU usage and latency during dictation
- Duplicate start/stop event counts

## Risk Review Triggers

Review and update risk profile when:

- State machine or IPC contract changes
- Recording engine changes
- Performance regressions are reported
- Error rates increase after release
