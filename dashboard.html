<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CrocoVoice - Dashboard</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;550;600;700;800&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="dashboard.css">
</head>
<body>
  <div id="toastContainer" class="toast-container"></div>

  <div id="authOverlay" class="auth-overlay" aria-hidden="true">
    <div class="auth-card">
      <div class="auth-icon">
        <svg class="no-drag" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 15v2m-6 4h12a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2zm10-10V7a4 4 0 0 0-8 0v4h8z"></path></svg>
      </div>
      <h3>Connexion requise</h3>
      <p>Synchronisez vos notes et acc√©dez aux fonctions premium.</p>
      <div id="authOverlayStatus" class="note-status"></div>
      <form id="authOverlayForm" class="auth-form">
        <label for="authOverlayEmail">Adresse email</label>
        <input id="authOverlayEmail" name="email" type="email" autocomplete="email" placeholder="vous@exemple.com" required>
        <label for="authOverlayPassword">Mot de passe</label>
        <input id="authOverlayPassword" name="password" type="password" autocomplete="current-password" placeholder="Votre mot de passe" required>
        <button id="authOverlayLogin" class="btn-primary" type="submit">Se connecter</button>
      </form>
      <div class="auth-actions">
        <button id="authOverlaySignup" type="button">Cr√©er un compte</button>
        <button id="authOverlayRetry" type="button">R√©essayer</button>
      </div>
    </div>
  </div>

  <div id="onboardingOverlay" class="onboarding-overlay" aria-hidden="true">
    <div class="onboarding-card no-drag">
      <div class="onboarding-header">
        <div class="onboarding-badge">
          <span>Premiers pas</span>
        </div>
        <button id="onboardingClose" class="win-control" type="button" aria-label="Plus tard">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 18L18 6M6 6l12 12"></path></svg>
        </button>
      </div>

      <h3 id="onboardingTitle">Bienvenue sur CrocoVoice</h3>
      <p id="onboardingSubtitle">On valide 2 points en 30 secondes : micro OK, puis livraison OK (collage ou clipboard en secours).</p>

      <div id="onboardingStatus" class="note-status"></div>
      <div id="onboardingSteps" class="onboarding-steps"></div>

      <div id="onboardingMicSection" style="display:none;">
        <label class="form-label" for="onboardingMicSelect">Microphone</label>
        <select id="onboardingMicSelect" class="select-field" style="width:100%;"></select>
        <div style="height: 12px;"></div>
        <div class="note-status" style="display:block;">
          Cliquez sur ‚ÄúD√©marrer‚Äù, parlez 2 secondes, puis cliquez sur ‚ÄúArr√™ter‚Äù.
        </div>
        <div style="height: 10px;"></div>
        <canvas id="onboardingWaveform" width="460" height="64" style="width:100%; height:64px; border-radius:16px; background:#0B1220; border:1px solid rgba(148,163,184,0.35);"></canvas>
        <div style="height: 12px;"></div>
        <div class="onboarding-actions" style="margin-top:0;">
          <button id="onboardingMicStart" type="button">D√©marrer</button>
          <button id="onboardingMicStop" type="button">Arr√™ter</button>
        </div>
      </div>

      <div id="onboardingDeliverySection" style="display:none;">
        <label class="form-label" for="onboardingPasteTarget">Zone de test (vide)</label>
        <textarea id="onboardingPasteTarget" class="input-textarea" rows="4" placeholder="Cliquez sur ‚ÄúTester le collage‚Äù‚Ä¶"></textarea>
        <div style="height: 12px;"></div>
        <div class="note-status" style="display:block;">
          CrocoVoice va coller un texte de test ici dans 3 secondes.
        </div>
      </div>

      <div class="onboarding-actions">
        <button id="onboardingSecondary" type="button">Plus tard</button>
        <button id="onboardingPrimary" class="primary" type="button">Commencer</button>
      </div>
    </div>
  </div>

  <div id="modalBackdrop" class="modal-backdrop" aria-hidden="true">
    <div class="modal-card">
      <div class="modal-header">
        <h3 id="modalTitle">√âditer</h3>
        <button id="modalCancel" class="win-control" type="button" aria-label="Fermer">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 18L18 6M6 6l12 12"></path></svg>
        </button>
      </div>
      <div id="modalBody" class="modal-body"></div>
      <div class="modal-footer">
        <button id="modalConfirm" class="btn-primary" type="button">Sauvegarder</button>
      </div>
    </div>
  </div>

  <div class="app-container">
    <aside class="sidebar drag-region">
      <div class="sidebar-effects">
        <div class="orb orb-top"></div>
        <div class="orb orb-bottom"></div>
        <div class="noise"></div>
      </div>
      <div class="sidebar-content">
        <div class="sidebar-brand">
          <div class="brand-mark no-drag">C</div>
          <span class="brand-name">CrocoVoice</span>
        </div>

        <nav class="sidebar-nav custom-scroll no-drag">
          <button class="nav-item active" data-view="home" type="button">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
            <span>Dashboard</span>
          </button>
          <button class="nav-item" data-view="notes" type="button">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>
            <span>Notes</span>
          </button>
          <button class="nav-item" data-view="dictionary" type="button">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 1-4 4v14a3 3 0 0 0 3-3h7z"></path></svg>
            <span>Dictionnaire</span>
          </button>
          <button class="nav-item" data-view="style" type="button">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="14.31" y1="8" x2="20.05" y2="17.94"></line><line x1="9.69" y1="8" x2="21.17" y2="8"></line><line x1="7.38" y1="12" x2="13.12" y2="2.06"></line><line x1="9.69" y1="16" x2="3.95" y2="6.06"></line><line x1="14.31" y1="16" x2="2.83" y2="16"></line><line x1="16.62" y1="12" x2="10.88" y2="21.94"></line></svg>
            <span>Styles</span>
          </button>

          <div class="nav-section">
            <button class="nav-item" data-view="settings" type="button">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.7 1.7 0 0 0 .3 1.9l.1.1a2 2 0 1 1-2.8 2.8l-.1-.1a1.7 1.7 0 0 0-1.9-.3 1.7 1.7 0 0 0-1 1.5V21a2 2 0 0 1-4 0v-.1a1.7 1.7 0 0 0-1-1.5 1.7 1.7 0 0 0-1.9.3l-.1.1a2 2 0 1 1-2.8-2.8l.1-.1a1.7 1.7 0 0 0 .3-1.9 1.7 1.7 0 0 0-1.5-1H3a2 2 0 0 1 0-4h.1a1.7 1.7 0 0 0 1.5-1 1.7 1.7 0 0 0-.3-1.9l-.1-.1a2 2 0 1 1 2.8-2.8l.1.1a1.7 1.7 0 0 0 1.9.3 1.7 1.7 0 0 0 1-1.5V3a2 2 0 0 1 4 0v.1a1.7 1.7 0 0 0 1 1.5 1.7 1.7 0 0 0 1.9-.3l.1-.1a2 2 0 1 1 2.8 2.8l-.1.1a1.7 1.7 0 0 0-.3 1.9 1.7 1.7 0 0 0 1.5 1H21a2 2 0 0 1 0 4h-.1a1.7 1.7 0 0 0-1.5 1z"></path></svg>
              <span>R√©glages</span>
            </button>
          </div>
        </nav>

	        <div id="profileCard" class="profile-card no-drag" role="button" tabindex="0" aria-label="Ouvrir le profil et la facturation">
	          <div class="profile-avatar" id="profileAvatar">B</div>
	          <div>
	            <div class="profile-name" id="profileName">Baptiste</div>
	            <div class="profile-plan" id="profilePlan">Plan Pro</div>
	          </div>
	        </div>
      </div>
    </aside>

    <main class="main-content">
	      <header class="top-header drag-region">
	        <div class="breadcrumb no-drag">
	          <span id="breadcrumbPrimary">Dashboard</span>
	          <span>/</span>
	          <span id="breadcrumbSecondary" style="color: var(--emerald-600);">Overview</span>
	        </div>

        <div class="search-wrap no-drag">
          <span class="search-icon">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
          </span>
          <input id="dashboardSearchInput" class="search-input" type="text" placeholder="Rechercher...">
        </div>

        <div class="window-controls no-drag">
          <button class="win-control" data-window-control="minimize" title="Minimize" type="button">
            <svg width="10" height="10" viewBox="0 0 10 2" fill="currentColor"><rect width="10" height="1.5" rx="0.75"></rect></svg>
          </button>
          <button class="win-control" data-window-control="maximize" title="Maximize" type="button">
            <svg width="10" height="10" viewBox="0 0 10 10" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="1" y="1" width="8" height="8" rx="1"></rect></svg>
          </button>
          <button class="win-control close" data-window-control="close" title="Close" type="button">
            <svg width="10" height="10" viewBox="0 0 10 10" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><path d="M1 1l8 8M9 1L1 9"></path></svg>
          </button>
        </div>
      </header>

      <div class="content-scroll custom-scroll">
        <section id="view-home" class="view active" style="max-width: 960px; margin: 0 auto;">
	          <div>
	            <h1 class="section-title">Bonjour, Baptiste üëã</h1>
	            <p id="streakSubtitle" class="section-subtitle">Chargement des statistiques...</p>
	          </div>

          <div class="stats-grid">
            <div class="stat-card">
              <div>
                <h3 id="statDays">3</h3>
                <div class="stat-label">Jours actifs</div>
              </div>
              <div class="stat-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
              </div>
            </div>
            <div class="stat-card">
              <div>
                <h3 id="statWords">496</h3>
                <div class="stat-label">Mots transcrits</div>
              </div>
              <div class="stat-icon" style="background: #DBEAFE; color: #2563EB;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path></svg>
              </div>
            </div>
            <div class="stat-card">
              <div>
                <h3 id="statTotal">24</h3>
                <div class="stat-label">Notes totales</div>
              </div>
              <div class="stat-icon" style="background: #F3E8FF; color: #7C3AED;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
              </div>
            </div>

            <div class="stat-card">
              <div>
                <h3 id="quotaRemaining">‚Äî</h3>
                <div class="stat-label">Mots restants</div>
                <div class="stat-meta" id="quotaReset">Reset lundi 00:00 UTC</div>
              </div>
              <div class="stat-icon" style="background: #ECFEFF; color: #0E7490;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 6v6l4 2"></path></svg>
              </div>
            </div>
          </div>

          <div class="mesh-banner upgrade-nudge" id="upgradeNudge" aria-hidden="true">
            <div class="mesh-content">
              <div>
                <div class="mesh-title">Plus que <strong id="upgradeNudgeRemaining">500</strong> mots avant le blocage</div>
                <div class="mesh-text">Passez Pro pour dicter sans limite, garder l‚Äôhistorique complet et continuer sans interruption.</div>
                <div class="quota-bar">
                  <div class="quota-bar-fill" id="upgradeNudgeFill"></div>
                </div>
                <div class="quota-caption" id="upgradeNudgeCaption">Reset lundi 00:00 UTC</div>
              </div>
              <button class="outline-btn upgrade-cta" type="button" id="upgradeNudgeButton">Passer Pro</button>
            </div>
          </div>

          <div class="list-header">
            <div class="list-title">Historique</div>
          </div>

          <div class="list-panel">
            <div id="historyList"></div>
            <div id="historyEmpty" class="empty-state" data-empty-title="C'est bien calme ici" data-empty-body="Votre historique est vide. Commencez par lancer une note pour voir appara√Ætre vos sessions." data-search-title="Aucun r√©sultat" data-search-body="Nous n'avons rien trouv√© pour cette recherche." data-error-title="Impossible de charger l'historique" data-error-body="V√©rifiez votre connexion et r√©essayez.">
              <div class="empty-illustration">
                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 7v5l3 3"></path></svg>
              </div>
              <h3 class="empty-title"></h3>
              <p class="empty-body"></p>
              <button class="empty-action" type="button" data-empty-action="notes">Cr√©er une note</button>
            </div>
          </div>
        </section>

        <section id="view-notes" class="view" style="max-width: 720px; margin: 0 auto;">
          <div>
            <h1 class="section-title">Nouvelle Note</h1>
            <p class="section-subtitle">Dict√©e intelligente avec formatage automatique.</p>
          </div>

          <div class="card" style="margin-top: 24px;">
            <input id="noteTitleInput" class="note-title-input" type="text" placeholder="Titre de la note...">

            <div style="margin-top: 16px;">
              <label class="form-label" for="noteBodyInput">Contenu</label>
              <div class="editor-toolbar" role="toolbar" aria-label="Formatage">
                <button class="editor-tool" type="button" data-md="**" aria-label="Gras">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path></svg>
                </button>
                <button class="editor-tool" type="button" data-md="*" aria-label="Italique">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="4" x2="10" y2="4"></line><line x1="14" y1="20" x2="5" y2="20"></line><line x1="15" y1="4" x2="9" y2="20"></line></svg>
                </button>
                <div class="editor-sep" aria-hidden="true"></div>
                <button class="editor-tool" type="button" data-md="- " aria-label="Liste">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg>
                </button>
              </div>
              <textarea id="noteBodyInput" class="input-textarea" rows="5" placeholder="Commencez √† √©crire ou lancez la dict√©e..."></textarea>
            </div>

            <div class="note-actions">
              <div id="recordingFeedback" class="recording-feedback">
                <div class="audio-bars">
                  <span class="audio-bar" style="animation-duration: 420ms;"></span>
                  <span class="audio-bar" style="animation-duration: 460ms;"></span>
                  <span class="audio-bar" style="animation-duration: 390ms;"></span>
                  <span class="audio-bar" style="animation-duration: 430ms;"></span>
                </div>
                En √©coute...
              </div>
              <div style="display: flex; gap: 12px; align-items: center; flex-wrap: wrap;">
                <button id="captureNoteButton" class="btn-secondary" type="button" style="position: relative;">
                  <span id="micPulse" class="mic-pulse"></span>
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path></svg>
                  Dict√©e
                </button>
                <button id="createNoteButton" class="btn-primary" type="button">Enregistrer</button>
              </div>
            </div>
          </div>

          <div style="margin-top: 32px;">
            <h2 class="form-label" style="font-size: 12px;">Vos notes</h2>
            <div id="notesList" style="display: flex; flex-direction: column; gap: 12px; margin-top: 12px;"></div>
            <div id="notesEmpty" class="empty-state dashed" data-empty-title="Le syndrome de la page blanche ?" data-empty-body="Capturez vos id√©es √† la voix, nous nous occupons de la mise en forme." data-search-title="Aucun r√©sultat" data-search-body="Aucune note ne correspond √† cette recherche.">
              <div class="empty-illustration">
                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>
              </div>
              <h3 class="empty-title"></h3>
              <p class="empty-body"></p>
              <button class="empty-action primary" type="button" data-empty-action="note-editor">R√©diger ma premi√®re note</button>
            </div>
          </div>
        </section>

        <section id="view-dictionary" class="view" style="max-width: 720px; margin: 0 auto;">
          <div>
            <h1 class="section-title">Dictionnaire</h1>
            <p class="section-subtitle">Apprenez √† CrocoVoice votre vocabulaire sp√©cifique.</p>
          </div>

          <div class="dictionary-card" style="margin-top: 24px;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
              <span style="font-weight: 700;">Correction automatique</span>
              <label class="toggle">
                <input type="checkbox" id="misspellingToggle" class="toggle-checkbox">
                <span class="toggle-label"></span>
              </label>
            </div>

            <div class="dictionary-grid" style="margin-top: 16px;">
              <input id="dictionaryWordInput" class="input-field" type="text" placeholder="Mot entendu (ex: Croco)">
              <input id="dictionaryCorrectionInput" class="input-field" type="text" placeholder="Remplacer par (ex: Crocodile)" style="display: none;">
            </div>

            <div class="dictionary-actions">
              <button id="dictionaryCancelButton" class="btn-secondary" type="button">Annuler</button>
              <button id="dictionaryAddButton" class="btn-primary dictionary-add" type="button">
                <span class="btn-icon">+</span>
                <span>Ajouter</span>
              </button>
            </div>
          </div>

          <div class="dictionary-list" id="dictionaryList"></div>
          <div id="dictionaryEmpty" class="empty-state" data-empty-title="Votre dictionnaire est vide" data-empty-body="Ajoutez vos termes m√©tier pour booster la pr√©cision." data-search-title="Aucun r√©sultat" data-search-body="Aucune entr√©e ne correspond √† cette recherche.">
            <div class="empty-illustration">
              <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 1-4 4v14a3 3 0 0 0 3-3h7z"></path></svg>
            </div>
            <h3 class="empty-title"></h3>
            <p class="empty-body"></p>
            <button class="empty-action" type="button" data-empty-action="dictionary">Ajouter un terme</button>
          </div>
        </section>

	        <section id="view-style" class="view" style="max-width: 900px; margin: 0 auto;">
	          <div>
	            <h1 class="section-title">Styles & Persona</h1>
	            <p class="section-subtitle">L'IA adapte le ton de la transcription √† votre audience.</p>
	          </div>

          <div id="styleList" class="style-grid" style="margin-top: 24px;"></div>
          <div id="styleEmpty" class="empty-state" data-empty-title="Aucun style disponible" data-empty-body="Rechargez vos styles pour personnaliser la sortie." data-search-title="Aucun r√©sultat" data-search-body="Aucun style ne correspond √† cette recherche.">
            <div class="empty-illustration">
              <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M8 12h8"></path><path d="M12 8v8"></path></svg>
            </div>
            <h3 class="empty-title"></h3>
            <p class="empty-body"></p>
            <button class="empty-action" type="button" data-empty-action="styles">Recharger les styles</button>
	          </div>
	        </section>

	        <section id="view-account" class="view" style="max-width: 720px; margin: 0 auto;">
	          <div>
	            <h1 class="section-title">Profil & Facturation</h1>
	            <p class="section-subtitle">G√©rez votre compte, votre synchronisation et votre abonnement.</p>
	          </div>

	          <div class="settings-stack" style="margin-top: 24px;">
	            <div class="settings-card">
	              <h3 style="font-size: 16px; font-weight: 700; margin-bottom: 16px;">Compte</h3>
	              <div id="authPanel" style="margin-bottom: 16px;"></div>
	              <button id="syncNowButton" class="btn-primary sync-now" type="button" style="width: 100%;">Synchroniser maintenant</button>
	              <div id="syncStatus" class="sync-status"></div>
	            </div>

	            <div class="settings-card">
	              <div class="subscription-panel">
	                <div class="subscription-row">
	                  <div>
	                    <div style="font-weight: 700;">Abonnement</div>
	                    <div id="subscriptionStatus" class="subscription-status">Plan Free</div>
	                  </div>
	                  <span id="subscriptionBadge" class="subscription-badge free">Free</span>
	                </div>
	                <div class="subscription-actions">
	                  <button id="upgradePlanButton" class="btn-primary" type="button">Passer Pro</button>
	                  <button id="manageSubscriptionButton" class="btn-secondary" type="button">G√©rer mon abonnement</button>
	                  <button id="refreshSubscriptionButton" class="btn-secondary" type="button">Actualiser</button>
	                </div>
	                <div id="subscriptionNote" class="subscription-note"></div>
	              </div>
	            </div>
	          </div>
	        </section>

	        <section id="view-settings" class="view" style="max-width: 640px; margin: 0 auto;">
	          <div>
	            <h1 class="section-title">R√©glages</h1>
	            <p class="section-subtitle">Personnalisez votre exp√©rience d'enregistrement.</p>
	          </div>

          <div class="settings-stack" style="margin-top: 24px;">
            <div class="settings-card">
              <h3 style="font-size: 16px; font-weight: 700; margin-bottom: 16px;">G√©n√©ral</h3>
              <label class="form-label">Langue de transcription</label>
              <input id="languageInput" class="input-field" type="text" data-setting="language">
              <p id="apiKeyStatus" style="margin-top: 12px; font-size: 12px; font-weight: 600; display: flex; align-items: center; gap: 8px; color: var(--emerald-600);">
                <span style="width: 8px; height: 8px; border-radius: 999px; background: var(--emerald-500);"></span>
                API OpenAI connect√©e
              </p>
              <div style="margin-top: 16px;">
                <label class="form-label">Microphone</label>
                <select id="microphoneSelect" class="input-select" data-setting="microphoneId"></select>
              </div>

              <div style="margin-top: 16px;">
                <label class="form-label" for="shortcutInput">Raccourci de dict√©e</label>
                <div class="shortcut-row">
                  <input id="shortcutInput" class="input-field shortcut-input" type="text" data-setting="shortcut" autocomplete="off" spellcheck="false" readonly>
                  <button id="shortcutResetButton" class="btn-secondary shortcut-reset" type="button">Reset</button>
                </div>
                <div class="shortcut-help" id="shortcutHelp">Cliquez dans le champ puis appuyez sur votre combinaison.</div>
              </div>

              <div style="margin-top: 18px;">
                <label class="form-label">Onboarding</label>
                <button id="resetOnboardingButton" class="btn-secondary" type="button" style="width: 100%;">Relancer l‚Äôonboarding</button>
                <div style="margin-top: 8px; font-size: 12px; color: var(--text-muted);">Utile si vous avez chang√© de micro ou si la livraison de texte a √©chou√©.</div>
              </div>
            </div>

	            <div class="settings-card">
	              <div style="display: flex; justify-content: space-between; align-items: center; gap: 12px;">
	                <div>
	                  <div style="font-weight: 700;">Post-traitement IA</div>
	                  <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">Corrige la grammaire et formate automatiquement.</div>
	                </div>
                <select id="postProcessToggle" class="input-select" data-setting="postProcessEnabled" style="width: auto;">
                  <option value="true">Activ√©</option>
	                  <option value="false">D√©sactiv√©</option>
	                </select>
	              </div>
	            </div>
	          </div>
	        </section>
      </div>
    </main>
  </div>

  <script src="dashboard/state.js"></script>
  <script src="dashboard/ui.js"></script>
  <script src="dashboard/render.js"></script>
  <script src="dashboard/actions.js"></script>
  <script src="dashboard/onboarding.js"></script>
  <script src="dashboard/app.js"></script>
</body>
</html>
