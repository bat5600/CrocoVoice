<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CrocoVoice - Dashboard</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;550;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root {
      --font-main: 'Plus Jakarta Sans', sans-serif;
      --bg-main: #F8FAFC;
      --bg-dark: #042F2E;
      --text-main: #0F172A;
      --text-muted: #64748B;
      --text-soft: #94A3B8;
      --border-light: #E2E8F0;
      --emerald-700: #047857;
      --emerald-600: #059669;
      --emerald-500: #10B981;
      --emerald-400: #34D399;
      --emerald-100: #D1FAE5;
      --emerald-50: #ECFDF5;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: var(--font-main);
      background: var(--bg-main);
      color: var(--text-main);
      overflow: hidden;
    }

    button,
    input,
    select,
    textarea {
      font-family: var(--font-main);
    }

    .custom-scroll::-webkit-scrollbar {
      width: 6px;
    }

    .custom-scroll::-webkit-scrollbar-track {
      background: transparent;
    }

    .custom-scroll::-webkit-scrollbar-thumb {
      background-color: #CBD5E1;
      border-radius: 20px;
    }

    .custom-scroll::-webkit-scrollbar-thumb:hover {
      background-color: #94A3B8;
    }

    .drag-region {
      -webkit-app-region: drag;
    }

    .no-drag {
      -webkit-app-region: no-drag;
    }

    .view {
      display: none;
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.3s ease-out, transform 0.3s ease-out;
    }

    .view.active {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }

    .onboarding-overlay {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 24px;
      background: rgba(15, 23, 42, 0.35);
      backdrop-filter: blur(8px);
      z-index: 1200;
    }

    .onboarding-overlay.active {
      display: flex;
    }

    .onboarding-card {
      width: min(960px, 100%);
      background: #ffffff;
      border-radius: 24px;
      border: 1px solid var(--border-light);
      box-shadow: 0 30px 80px rgba(15, 23, 42, 0.2);
      padding: 28px;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .onboarding-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 16px;
    }

    .onboarding-kicker {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: var(--text-soft);
      font-weight: 700;
    }

    .onboarding-title {
      font-size: 28px;
      font-weight: 700;
      margin-top: 8px;
    }

    .ghost-btn {
      border: 1px solid var(--border-light);
      background: transparent;
      color: var(--text-muted);
      padding: 8px 14px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
    }

    .onboarding-stepper {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 12px;
    }

    .onboarding-step {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 14px;
      background: #F8FAFC;
      border: 1px solid transparent;
      font-size: 12px;
      font-weight: 600;
      color: var(--text-muted);
    }

    .onboarding-step .step-index {
      width: 24px;
      height: 24px;
      border-radius: 999px;
      background: var(--border-light);
      color: var(--text-muted);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 700;
    }

    .onboarding-step.active {
      border-color: var(--emerald-200, #A7F3D0);
      color: var(--text-main);
      background: var(--emerald-50);
    }

    .onboarding-step.active .step-index {
      background: var(--emerald-500);
      color: #ffffff;
    }

    .onboarding-step.done {
      color: var(--text-main);
    }

    .onboarding-step.done .step-index {
      background: var(--emerald-500);
      color: #ffffff;
    }

    .onboarding-body {
      display: grid;
      grid-template-columns: 1.1fr 0.9fr;
      gap: 24px;
    }

    .onboarding-panel {
      display: none;
      flex-direction: column;
      gap: 16px;
      padding: 18px;
      border-radius: 18px;
      background: #F8FAFC;
      border: 1px solid var(--border-light);
    }

    .onboarding-panel.active {
      display: flex;
    }

    .onboarding-panel.onboarding-summary {
      display: flex;
    }

    .onboarding-summary {
      background: #ffffff;
      border-style: dashed;
    }

    .onboarding-checklist {
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 8px;
      font-size: 13px;
      color: var(--text-muted);
    }

    .onboarding-checklist li {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .onboarding-checklist .check-dot {
      width: 12px;
      height: 12px;
      border-radius: 999px;
      border: 2px solid #CBD5F5;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: #ffffff;
      font-size: 10px;
    }

    .onboarding-checklist li.done {
      color: var(--text-main);
    }

    .onboarding-checklist li.done .check-dot {
      background: var(--emerald-500);
      border-color: var(--emerald-500);
    }

    .onboarding-panel h3 {
      font-size: 18px;
      font-weight: 700;
    }

    .onboarding-panel p {
      color: var(--text-muted);
      line-height: 1.6;
      font-size: 14px;
    }

    .onboarding-actions {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      align-items: center;
    }

    .vu-meter {
      height: 12px;
      border-radius: 999px;
      background: #E2E8F0;
      overflow: hidden;
      border: 1px solid #E2E8F0;
    }

    .vu-bar {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #34D399, #10B981, #059669);
      transition: width 0.12s ease-out;
    }

    .onboarding-sandbox {
      width: 100%;
      min-height: 140px;
      border-radius: 14px;
      border: 1px solid var(--border-light);
      padding: 12px;
      font-size: 13px;
      background: #ffffff;
      resize: vertical;
    }

    .onboarding-status {
      font-size: 12px;
      color: var(--text-soft);
    }

    .onboarding-status.error {
      color: #EF4444;
    }

    .onboarding-status.success {
      color: var(--emerald-600);
      font-weight: 600;
    }

    .onboarding-success {
      display: none;
      align-items: center;
      gap: 10px;
      font-size: 14px;
      color: var(--emerald-600);
      font-weight: 700;
    }

    .onboarding-success.active {
      display: flex;
      animation: popIn 0.3s ease-out;
    }

    .onboarding-check {
      width: 28px;
      height: 28px;
      border-radius: 999px;
      background: var(--emerald-500);
      color: #ffffff;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    .delivery-probe {
      width: 100%;
      border-radius: 12px;
      border: 1px solid var(--border-light);
      padding: 10px 12px;
      font-size: 13px;
    }

    @keyframes popIn {
      0% {
        transform: scale(0.9);
        opacity: 0;
      }
      100% {
        transform: scale(1);
        opacity: 1;
      }
    }

    @media (max-width: 900px) {
      .onboarding-body {
        grid-template-columns: 1fr;
      }
    }

    .toggle-checkbox {
      position: absolute;
      opacity: 0;
      width: 1px;
      height: 1px;
    }

    .toggle-label {
      display: inline-flex;
      width: 44px;
      height: 24px;
      background: #E2E8F0;
      border-radius: 999px;
      position: relative;
      transition: background 0.2s ease;
      cursor: pointer;
    }

    .toggle-label::after {
      content: "";
      position: absolute;
      top: 3px;
      left: 3px;
      width: 18px;
      height: 18px;
      border-radius: 999px;
      background: #ffffff;
      box-shadow: 0 2px 6px rgba(15, 23, 42, 0.15);
      transition: transform 0.2s ease;
    }

    .toggle-checkbox:checked + .toggle-label {
      background: var(--emerald-500);
    }

    .toggle-checkbox:checked + .toggle-label::after {
      transform: translateX(20px);
    }

    body.auth-locked .app-container {
      filter: blur(4px) grayscale(0.2);
      pointer-events: none;
      transform: scale(0.99);
      transition: all 0.5s ease;
    }

    body.auth-locked .auth-overlay {
      display: flex;
    }

    .app-container {
      display: flex;
      height: 100vh;
      width: 100vw;
    }

    .sidebar {
      width: 280px;
      background: var(--bg-dark);
      color: #E2E8F0;
      position: relative;
      border-right: 1px solid rgba(255, 255, 255, 0.05);
      display: flex;
      flex-direction: column;
      flex-shrink: 0;
      z-index: 20;
    }

    .sidebar-effects {
      position: absolute;
      inset: 0;
      overflow: hidden;
      pointer-events: none;
      z-index: 0;
    }

    .sidebar-effects .orb {
      position: absolute;
      border-radius: 999px;
      filter: blur(80px);
      opacity: 0.6;
    }

    .sidebar-effects .orb-top {
      width: 300px;
      height: 300px;
      top: -10%;
      right: -30%;
      background: rgba(16, 185, 129, 0.25);
    }

    .sidebar-effects .orb-bottom {
      width: 250px;
      height: 250px;
      bottom: -10%;
      left: -20%;
      background: rgba(20, 184, 166, 0.18);
    }

    .sidebar-effects .noise {
      position: absolute;
      inset: 0;
      background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxNjAnIGhlaWdodD0nMTYwJyB2aWV3Qm94PScwIDAgMTYwIDE2MCc+PGZpbHRlciBpZD0nbic+PGZlVHVyYnVsZW5jZSB0eXBlPSdmcmFjdGFsTm9pc2UnIGJhc2VGcmVxdWVuY3k9JzAuOCcgbnVtT2N0YXZlcz0nMicgc3RpdGNoVGlsZXM9J3N0aXRjaCcvPjwvZmlsdGVyPjxyZWN0IHdpZHRoPScxNjAnIGhlaWdodD0nMTYwJyBmaWx0ZXI9J3VybCgjbiknIG9wYWNpdHk9JzAuMicvPjwvc3ZnPg==");
      opacity: 0.2;
      mix-blend-mode: overlay;
    }

    .sidebar-content {
      position: relative;
      z-index: 1;
      display: flex;
      flex-direction: column;
      height: 100%;
    }

    .sidebar-brand {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 32px 24px 16px;
    }

    .brand-mark {
      width: 40px;
      height: 40px;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.15);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--emerald-400);
      font-weight: 700;
      font-size: 18px;
      box-shadow: inset 0 0 12px rgba(255, 255, 255, 0.08);
    }

    .brand-name {
      font-size: 18px;
      font-weight: 700;
      color: #FFFFFF;
      letter-spacing: -0.02em;
    }

    .sidebar-nav {
      flex: 1;
      padding: 0 16px 16px;
      overflow-y: auto;
    }

    .nav-item {
      width: 100%;
      border: none;
      background: transparent;
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 16px;
      border-radius: 14px;
      color: #94A3B8;
      font-size: 14px;
      font-weight: 400;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .nav-item svg {
      width: 20px;
      height: 20px;
      stroke: currentColor;
    }

    .nav-item:hover {
      color: #FFFFFF;
      background: rgba(255, 255, 255, 0.05);
    }

    .nav-item.active {
      color: #FFFFFF;
      background: rgba(255, 255, 255, 0.05);
      font-weight: 500;
    }

    .nav-item.active svg {
      color: var(--emerald-400);
    }


    .nav-section {
      padding-top: 12px;
      margin-top: 12px;
      border-top: 1px solid rgba(255, 255, 255, 0.08);
    }

    .profile-card {
      margin: 16px;
      padding: 12px;
      border-radius: 14px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: flex;
      align-items: center;
      gap: 12px;
      cursor: pointer;
      transition: background 0.2s ease;
    }

    .profile-card:hover {
      background: rgba(255, 255, 255, 0.1);
    }

    .profile-avatar {
      width: 36px;
      height: 36px;
      border-radius: 999px;
      background: linear-gradient(135deg, #34D399, #0D9488);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #ffffff;
      font-weight: 700;
      font-size: 12px;
      box-shadow: 0 6px 12px rgba(16, 185, 129, 0.3);
    }

    .profile-name {
      font-size: 13px;
      font-weight: 700;
      color: #FFFFFF;
      line-height: 1.2;
    }

    .profile-plan {
      font-size: 10px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: rgba(167, 243, 208, 0.6);
    }

    .main-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      min-width: 0;
      position: relative;
      background: var(--bg-main);
    }

    .top-header {
      height: 80px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 32px;
      background: rgba(248, 250, 252, 0.82);
      backdrop-filter: blur(18px);
      border-bottom: 1px solid var(--border-light);
      position: sticky;
      top: 0;
      z-index: 30;
    }

    .breadcrumb {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
      font-weight: 600;
      color: var(--text-muted);
    }

    .breadcrumb span:first-child {
      color: var(--text-main);
    }

    .search-wrap {
      flex: 1;
      max-width: 420px;
      margin: 0 32px;
      position: relative;
    }

    .search-input {
      width: 100%;
      padding: 10px 16px 10px 40px;
      border-radius: 999px;
      border: 1px solid var(--border-light);
      background: #FFFFFF;
      font-size: 14px;
      font-weight: 500;
      color: var(--text-main);
      transition: all 0.2s ease;
      box-shadow: 0 1px 2px rgba(15, 23, 42, 0.06);
    }

    .search-input:focus {
      outline: none;
      border-color: var(--emerald-500);
      box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.12);
    }

    .search-icon {
      position: absolute;
      top: 50%;
      left: 14px;
      transform: translateY(-50%);
      color: #94A3B8;
    }

    .search-wrap:focus-within .search-icon {
      color: var(--emerald-600);
    }

    .window-controls {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .win-control {
      width: 32px;
      height: 32px;
      border-radius: 10px;
      border: none;
      background: transparent;
      color: var(--text-soft);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background 0.2s ease, color 0.2s ease;
    }

    .win-control:hover {
      background: #E2E8F0;
      color: #1E293B;
    }

    .win-control.close:hover {
      background: #FEE2E2;
      color: #EF4444;
    }

    .content-scroll {
      flex: 1;
      overflow-y: auto;
      padding: 32px 32px 80px;
    }

    .section-title {
      font-size: 30px;
      font-weight: 700;
      color: var(--text-main);
    }

    .section-subtitle {
      margin-top: 8px;
      color: var(--text-muted);
      font-weight: 500;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 24px;
      margin: 32px 0;
    }

    .stat-card {
      background: #FFFFFF;
      border: 1px solid #F1F5F9;
      border-radius: 20px;
      padding: 24px;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      transition: all 0.3s ease;
      box-shadow: 0 2px 10px -3px rgba(6, 81, 237, 0.1);
    }

    .stat-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 20px -12px rgba(15, 23, 42, 0.2);
    }

    .stat-card h3 {
      font-size: 30px;
      font-weight: 700;
    }

    .stat-label {
      margin-top: 6px;
      font-size: 12px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: #94A3B8;
      font-weight: 700;
    }

    .stat-meta {
      margin-top: 6px;
      font-size: 12px;
      color: var(--text-muted);
      font-weight: 600;
    }

    .stat-meta strong {
      color: var(--text-main);
    }

    .stat-icon {
      width: 40px;
      height: 40px;
      border-radius: 14px;
      background: #ECFDF5;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--emerald-600);
      transition: transform 0.3s ease;
    }

    .stat-card:hover .stat-icon {
      transform: rotate(6deg) scale(1.05);
    }

    .mesh-banner {
      position: relative;
      overflow: hidden;
      border-radius: 20px;
      padding: 28px;
      border: 1px solid var(--border-light);
      background: #FFFFFF;
      box-shadow: 0 2px 10px -3px rgba(6, 81, 237, 0.1);
      margin-bottom: 32px;
    }

    .mesh-banner::before,
    .mesh-banner::after {
      content: "";
      position: absolute;
      width: 220px;
      height: 220px;
      border-radius: 999px;
      background: rgba(16, 185, 129, 0.18);
      filter: blur(60px);
      opacity: 0.8;
      z-index: 0;
    }

    .mesh-banner::before {
      top: -70px;
      right: -60px;
    }

    .mesh-banner::after {
      bottom: -80px;
      left: 20%;
      background: rgba(20, 184, 166, 0.16);
    }

    .mesh-content {
      position: relative;
      z-index: 1;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      flex-wrap: wrap;
    }

    .mesh-title {
      font-size: 18px;
      font-weight: 700;
    }

    .mesh-text {
      font-size: 14px;
      color: var(--text-muted);
    }

    .mesh-banner.upgrade-nudge {
      border: 1px solid rgba(34, 197, 94, 0.35);
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.14), rgba(255, 255, 255, 0.9));
      box-shadow: 0 16px 30px -20px rgba(16, 185, 129, 0.45);
      display: none;
    }

    .upgrade-nudge .mesh-title strong {
      color: var(--emerald-700);
    }

    .quota-bar {
      width: 100%;
      height: 8px;
      border-radius: 999px;
      background: rgba(15, 118, 110, 0.12);
      overflow: hidden;
      margin-top: 12px;
    }

    .quota-bar-fill {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #10b981, #34d399);
      border-radius: 999px;
      transition: width 0.3s ease;
    }

    .quota-caption {
      margin-top: 8px;
      font-size: 12px;
      color: var(--text-muted);
      font-weight: 600;
    }

    .outline-btn.upgrade-cta {
      border-color: rgba(16, 185, 129, 0.4);
      color: var(--emerald-700);
    }

    .outline-btn.upgrade-cta:hover {
      border-color: var(--emerald-500);
      color: var(--emerald-800);
      box-shadow: 0 10px 18px -12px rgba(16, 185, 129, 0.6);
    }

    .outline-btn {
      padding: 10px 18px;
      border-radius: 12px;
      border: 1px solid var(--border-light);
      background: #FFFFFF;
      font-weight: 600;
      color: #334155;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .outline-btn:hover {
      border-color: var(--emerald-400);
      color: var(--emerald-700);
    }

    .list-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 16px;
    }

    .list-actions {
      margin-left: auto;
      display: flex;
      gap: 8px;
    }

    .list-title {
      font-size: 18px;
      font-weight: 700;
    }

    .list-badge {
      font-size: 10px;
      font-weight: 700;
      padding: 4px 8px;
      border-radius: 8px;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      background: var(--emerald-50);
      color: var(--emerald-700);
      border: 1px solid var(--emerald-100);
    }

    .upload-queue {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 16px;
    }

    .upload-dropzone {
      border: 1px dashed rgba(15, 23, 42, 0.2);
      border-radius: 16px;
      padding: 20px;
      background: rgba(255, 255, 255, 0.7);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      transition: border-color 0.2s ease, background 0.2s ease, transform 0.2s ease;
      cursor: pointer;
    }

    .upload-dropzone.is-dragover {
      border-color: rgba(59, 130, 246, 0.6);
      background: rgba(219, 234, 254, 0.35);
      transform: translateY(-1px);
    }

    .upload-dropzone-title {
      font-weight: 700;
      color: #0f172a;
    }

    .upload-dropzone-subtitle {
      font-size: 12px;
      color: rgba(15, 23, 42, 0.6);
      margin-top: 4px;
    }

    .upload-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 14px;
      border-radius: 12px;
      border: 1px solid var(--border-light);
      background: #FFFFFF;
      gap: 12px;
    }

    .upload-meta {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .upload-title {
      font-weight: 600;
      font-size: 13px;
    }

    .upload-status {
      font-size: 12px;
      color: var(--text-muted);
    }

    .upload-progress {
      height: 6px;
      background: #F1F5F9;
      border-radius: 999px;
      overflow: hidden;
      margin-top: 4px;
    }

    .upload-progress-fill {
      height: 100%;
      background: var(--emerald-500);
      width: 0%;
    }

    .list-panel {
      background: #FFFFFF;
      border: 1px solid var(--border-light);
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 1px 3px rgba(15, 23, 42, 0.06);
      min-height: 200px;
      display: flex;
      flex-direction: column;
      position: relative;
    }

    .entry-row {
      display: flex;
      align-items: flex-start;
      gap: 16px;
      padding: 16px;
      border-bottom: 1px solid #F1F5F9;
      transition: background 0.2s ease;
    }

    .entry-row:last-child {
      border-bottom: none;
    }

    .entry-row:hover {
      background: #F8FAFC;
    }

    .entry-row.is-highlight {
      background: rgba(245, 158, 11, 0.08);
    }

    .entry-icon {
      width: 40px;
      height: 40px;
      border-radius: 14px;
      background: #F1F5F9;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #94A3B8;
      flex-shrink: 0;
      transition: all 0.2s ease;
    }

    .entry-row:hover .entry-icon {
      background: var(--emerald-50);
      color: var(--emerald-600);
    }

    .entry-main {
      flex: 1;
      min-width: 0;
    }

    .entry-meta {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #94A3B8;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .entry-title {
      font-size: 14px;
      font-weight: 700;
      color: var(--text-main);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .entry-preview {
      margin-top: 4px;
      font-size: 14px;
      color: var(--text-muted);
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .entry-actions {
      display: flex;
      gap: 8px;
      opacity: 0;
      transition: opacity 0.2s ease;
    }

    .entry-row:hover .entry-actions {
      opacity: 1;
    }

    .entry-action {
      border: 1px solid transparent;
      background: transparent;
      color: #94A3B8;
      font-size: 12px;
      font-weight: 600;
      padding: 6px 10px;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .entry-action.copy:hover {
      background: #FFFFFF;
      border-color: #E2E8F0;
      color: var(--emerald-600);
    }

    .entry-action.delete:hover {
      background: #FEF2F2;
      border-color: #FECACA;
      color: #DC2626;
    }

    .history-skeleton {
      display: flex;
      flex-direction: column;
      gap: 12px;
      padding: 18px;
    }

    .history-skeleton-row {
      display: flex;
      gap: 14px;
      align-items: center;
      padding: 14px 16px;
      border-radius: 16px;
      border: 1px solid #F1F5F9;
      background: #FFFFFF;
      box-shadow: 0 1px 2px rgba(15, 23, 42, 0.04);
    }

    .history-skeleton-icon {
      width: 40px;
      height: 40px;
      border-radius: 14px;
      background: linear-gradient(90deg, #F1F5F9, #E2E8F0, #F1F5F9);
      background-size: 200% 100%;
      animation: shimmer 1.4s ease-in-out infinite;
      flex-shrink: 0;
    }

    .history-skeleton-lines {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .history-skeleton-line {
      height: 10px;
      border-radius: 999px;
      background: linear-gradient(90deg, #F1F5F9, #E2E8F0, #F1F5F9);
      background-size: 200% 100%;
      animation: shimmer 1.4s ease-in-out infinite;
    }

    .history-skeleton-line.short {
      width: 60%;
    }

    @keyframes shimmer {
      0% {
        background-position: 200% 0;
      }
      100% {
        background-position: -200% 0;
      }
    }

    .empty-state {
      text-align: center;
      color: #94A3B8;
      padding: 32px;
    }

    .card {
      background: #FFFFFF;
      border: 1px solid #E2E8F0;
      border-radius: 20px;
      padding: 24px;
      box-shadow: 0 10px 20px rgba(148, 163, 184, 0.15);
    }

    .form-label {
      display: block;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      font-weight: 700;
      color: #64748B;
      margin-bottom: 8px;
    }

    .note-title-input {
      width: 100%;
      padding: 8px 0;
      background: transparent;
      border: none;
      border-bottom: 1px solid transparent;
      font-size: 20px;
      font-weight: 700;
      color: var(--text-main);
      transition: border-color 0.2s ease;
    }

    .note-title-input::placeholder {
      color: #CBD5E1;
    }

    .note-title-input:hover {
      border-bottom-color: #E2E8F0;
    }

    .note-title-input:focus {
      outline: none;
      border-bottom-color: var(--emerald-500);
    }

    .input-field,
    .input-select,
    .input-textarea {
      width: 100%;
      border-radius: 14px;
      border: 1px solid #E2E8F0;
      padding: 12px 16px;
      background: #F8FAFC;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.2s ease;
    }

    .input-field:focus,
    .input-select:focus,
    .input-textarea:focus {
      outline: none;
      border-color: var(--emerald-500);
      box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.12);
      background: #FFFFFF;
    }

    .input-textarea {
      resize: none;
    }

    .shortcut-row {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .shortcut-input {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }

    .shortcut-input.is-capturing {
      border-color: var(--emerald-500);
      box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.12);
      background: #FFFFFF;
    }

    .shortcut-reset {
      padding: 11px 14px;
      border-radius: 14px;
      white-space: nowrap;
    }

    .shortcut-help {
      margin-top: 8px;
      font-size: 12px;
      font-weight: 500;
      color: var(--text-muted);
    }

    .note-actions {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 12px;
      gap: 12px;
      flex-wrap: wrap;
    }

    .recording-feedback {
      display: none;
      align-items: center;
      gap: 10px;
      background: #ECFDF5;
      border: 1px solid #A7F3D0;
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 11px;
      font-weight: 700;
      color: var(--emerald-700);
    }

    .recording-feedback.active {
      display: inline-flex;
    }

    .audio-bars {
      display: inline-flex;
      align-items: flex-end;
      gap: 2px;
      height: 12px;
    }

    .audio-bar {
      width: 4px;
      border-radius: 999px;
      background: var(--emerald-500);
      animation: sound 0ms -800ms linear infinite alternate;
      height: 4px;
      opacity: 0.4;
    }

    @keyframes sound {
      0% { height: 4px; opacity: 0.35; }
      100% { height: 100%; opacity: 1; }
    }

    .mic-pulse {
      position: absolute;
      inset: 0;
      border-radius: 14px;
      pointer-events: none;
      opacity: 0;
    }

    .mic-pulse.active {
      opacity: 1;
    }

    @keyframes pulse-ring {
      0% { transform: scale(0.96); box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.6); }
      70% { transform: scale(1); box-shadow: 0 0 0 12px rgba(16, 185, 129, 0); }
      100% { transform: scale(0.96); box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); }
    }

    .mic-pulse::after {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 14px;
      animation: pulse-ring 2s infinite;
      background: rgba(16, 185, 129, 0.08);
    }

    .note-status {
      font-size: 12px;
      font-weight: 600;
      min-height: 18px;
    }

    .status-ok {
      color: var(--emerald-600);
    }

    .status-error {
      color: #EF4444;
    }

    .btn-secondary {
      padding: 10px 18px;
      border-radius: 14px;
      border: 1px solid #E2E8F0;
      background: #FFFFFF;
      font-weight: 600;
      color: #334155;
      cursor: pointer;
      transition: all 0.2s ease;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .btn-secondary:hover {
      border-color: #A7F3D0;
      color: var(--emerald-700);
      background: #F8FAFC;
    }

    .btn-secondary.is-recording {
      border-color: #A7F3D0;
      color: var(--emerald-700);
      background: #ECFDF5;
    }

    .btn-primary {
      padding: 12px 20px;
      border-radius: 14px;
      border: none;
      background: #064E3B;
      color: #FFFFFF;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s ease;
      box-shadow: 0 10px 20px rgba(6, 78, 59, 0.2);
    }

    .btn-primary:hover {
      background: #065F46;
    }

    .btn-primary.dictionary-add {
      border-radius: 999px;
      padding: 11px 18px;
      background: linear-gradient(135deg, #10B981, #059669);
      color: #F8FAFC;
      text-shadow: 0 1px 2px rgba(2, 6, 23, 0.25);
      box-shadow: 0 12px 18px rgba(16, 185, 129, 0.25);
      display: inline-flex;
      align-items: center;
      gap: 8px;
      letter-spacing: 0.01em;
    }

    .btn-primary.dictionary-add .btn-icon {
      width: 20px;
      height: 20px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.18);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      font-weight: 700;
      line-height: 1;
    }

    .btn-primary.dictionary-add:hover {
      background: linear-gradient(135deg, #34D399, #10B981);
      color: #F1F5F9;
      text-shadow: 0 1px 2px rgba(2, 6, 23, 0.2);
      transform: translateY(-1px);
    }

    .btn-primary.dictionary-add:active {
      transform: translateY(0);
      box-shadow: 0 6px 12px rgba(16, 185, 129, 0.2);
    }

    .dictionary-card,
    .settings-card {
      background: #FFFFFF;
      border: 1px solid #E2E8F0;
      border-radius: 20px;
      padding: 24px;
      box-shadow: 0 2px 12px rgba(148, 163, 184, 0.2);
    }

    .notifications-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-top: 16px;
    }

    .notification-row {
      display: flex;
      justify-content: space-between;
      gap: 16px;
      padding: 16px 18px;
      border-radius: 16px;
      background: #FFFFFF;
      border: 1px solid #E2E8F0;
      box-shadow: 0 2px 12px rgba(148, 163, 184, 0.12);
    }

    .notification-row.notification-read {
      opacity: 0.7;
    }

    .notification-title {
      font-weight: 700;
      margin-bottom: 4px;
    }

    .notification-body {
      color: var(--text-muted);
      font-size: 13px;
    }

    .notification-meta {
      margin-top: 6px;
      font-size: 11px;
      color: rgba(148, 163, 184, 0.8);
    }

    .notification-actions {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .insights-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 12px;
      margin-top: 16px;
    }

    .insights-top-apps {
      margin-top: 12px;
      display: flex;
      flex-direction: column;
      gap: 6px;
      font-size: 13px;
      color: var(--text-muted);
    }

    .croc-omni-layout {
      display: grid;
      grid-template-columns: 240px 1fr;
      gap: 16px;
      margin-top: 16px;
    }

    .croc-omni-sidebar {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .croc-omni-search {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .croc-omni-search input {
      flex: 1;
    }

    .croc-omni-results {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .croc-omni-result {
      width: 100%;
      text-align: left;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid #E2E8F0;
      background: #FFFFFF;
      color: inherit;
      cursor: pointer;
      transition: border-color 120ms ease, box-shadow 120ms ease;
    }

    .croc-omni-result:hover {
      border-color: rgba(59, 130, 246, 0.35);
      box-shadow: 0 2px 12px rgba(59, 130, 246, 0.08);
    }

    .croc-omni-main {
      display: flex;
      flex-direction: column;
      gap: 12px;
      min-height: 320px;
    }

    .croc-omni-result-header {
      display: flex;
      justify-content: space-between;
      gap: 12px;
      align-items: baseline;
    }

    .croc-omni-result-title {
      font-weight: 800;
      font-size: 13px;
    }

    .croc-omni-result-meta {
      font-size: 11px;
      color: rgba(148, 163, 184, 0.85);
      white-space: nowrap;
    }

    .croc-omni-result-snippet {
      margin-top: 6px;
      font-size: 13px;
      color: var(--text-muted);
      line-height: 1.45;
    }

    .croc-omni-result-snippet mark {
      background: rgba(245, 158, 11, 0.18);
      color: inherit;
      padding: 0 2px;
      border-radius: 4px;
    }

    .croc-omni-actions {
      margin-top: 10px;
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .croc-omni-answer {
      margin-top: 12px;
      padding: 12px;
      border-radius: 16px;
      background: #FFFFFF;
      border: 1px solid #E2E8F0;
      box-shadow: 0 2px 12px rgba(148, 163, 184, 0.1);
    }

    .croc-omni-answer-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .croc-omni-answer-output {
      margin-top: 10px;
      white-space: pre-wrap;
      font-size: 13px;
      color: var(--text-muted);
      min-height: 90px;
    }

    .croc-omni-status {
      margin-top: 8px;
      font-size: 12px;
      color: rgba(148, 163, 184, 0.8);
    }

    .subscription-panel {
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    .subscription-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 16px;
      flex-wrap: wrap;
    }

    .subscription-status {
      font-size: 13px;
      color: var(--text-muted);
      margin-top: 6px;
    }

    .subscription-badge {
      padding: 6px 12px;
      border-radius: 999px;
      font-size: 11px;
      font-weight: 700;
      letter-spacing: 0.02em;
      text-transform: uppercase;
    }

    .subscription-badge.pro {
      background: rgba(16, 185, 129, 0.12);
      color: #047857;
    }

    .subscription-badge.free {
      background: rgba(148, 163, 184, 0.18);
      color: #334155;
    }

    .subscription-badge.pending {
      background: rgba(245, 158, 11, 0.16);
      color: #B45309;
    }

    .subscription-actions {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .subscription-note {
      font-size: 12px;
      color: var(--text-muted);
    }

    .dictionary-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 16px;
    }

    .dictionary-actions {
      display: flex;
      justify-content: flex-end;
      gap: 12px;
      margin-top: 16px;
    }

    .dictionary-row-actions {
      display: flex;
      gap: 8px;
      opacity: 0;
      transition: opacity 0.2s ease;
    }

    .dictionary-list {
      margin-top: 24px;
      border: 1px solid #E2E8F0;
      border-radius: 20px;
      overflow: hidden;
      background: #FFFFFF;
      box-shadow: 0 2px 10px rgba(148, 163, 184, 0.15);
    }

    .dictionary-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 20px;
      border-bottom: 1px solid #F1F5F9;
      transition: background 0.2s ease;
    }

    .dictionary-row:last-child {
      border-bottom: none;
    }

    .dictionary-row:hover {
      background: #F8FAFC;
    }

    .dictionary-row:hover .dictionary-row-actions {
      opacity: 1;
    }

    .dictionary-term {
      font-size: 14px;
      font-weight: 600;
      color: var(--text-main);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .dictionary-term .arrow {
      color: #94A3B8;
    }

    .dictionary-row-actions button {
      border: 1px solid transparent;
      background: #F8FAFC;
      color: #64748B;
      font-weight: 600;
      font-size: 12px;
      cursor: pointer;
      transition: all 0.2s ease;
      padding: 6px 10px;
      border-radius: 10px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .dictionary-row-actions button:hover {
      border-color: #E2E8F0;
      color: var(--emerald-700);
      background: #FFFFFF;
    }

    .dictionary-row-actions button.delete:hover {
      border-color: #FECACA;
      background: #FEF2F2;
      color: #DC2626;
    }

    .snippet-card {
      background: #FFFFFF;
      border: 1px solid #E2E8F0;
      border-radius: 20px;
      padding: 24px;
      box-shadow: 0 2px 12px rgba(148, 163, 184, 0.2);
    }

    .snippet-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 16px;
    }

    .snippet-grid .snippet-template-input {
      grid-column: span 2;
    }

    .snippet-actions {
      display: flex;
      justify-content: flex-end;
      gap: 12px;
      margin-top: 16px;
    }

    .snippet-list {
      margin-top: 24px;
      border: 1px solid #E2E8F0;
      border-radius: 20px;
      overflow: hidden;
      background: #FFFFFF;
      box-shadow: 0 2px 10px rgba(148, 163, 184, 0.15);
    }

    .snippet-row {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      padding: 16px 20px;
      border-bottom: 1px solid #F1F5F9;
      gap: 16px;
    }

    .snippet-row:last-child {
      border-bottom: none;
    }

    .snippet-row:hover {
      background: #F8FAFC;
    }

    .snippet-row:hover .snippet-row-actions {
      opacity: 1;
    }

    .snippet-term {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .snippet-cue {
      font-size: 14px;
      font-weight: 700;
      color: var(--text-main);
    }

    .snippet-template {
      font-size: 13px;
      color: #0F172A;
    }

    .snippet-description {
      font-size: 12px;
      color: var(--text-muted);
    }

    .snippet-row-actions {
      display: flex;
      gap: 8px;
      opacity: 0;
      transition: opacity 0.2s ease;
    }

    .snippet-row-actions button {
      border: 1px solid transparent;
      background: #F8FAFC;
      color: #64748B;
      font-weight: 600;
      padding: 6px 10px;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .snippet-row-actions button:hover {
      border-color: #E2E8F0;
      color: var(--emerald-700);
      background: #FFFFFF;
    }

    .snippet-row-actions button.delete:hover {
      border-color: #FECACA;
      background: #FEF2F2;
      color: #DC2626;
    }

    .context-grid {
      display: grid;
      gap: 16px;
      margin-top: 24px;
    }

    .context-signal-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 12px;
      margin-top: 12px;
    }

    .context-signal-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid #E2E8F0;
      background: #F8FAFC;
    }

    .context-profile-list {
      border: 1px solid #E2E8F0;
      border-radius: 16px;
      overflow: hidden;
      background: #FFFFFF;
    }

    .context-profile-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 16px;
      border-bottom: 1px solid #F1F5F9;
      gap: 12px;
    }

    .context-profile-row:last-child {
      border-bottom: none;
    }

    .context-profile-meta {
      font-size: 12px;
      color: var(--text-muted);
      margin-top: 4px;
    }

    .context-profile-actions {
      display: flex;
      gap: 8px;
    }

    .style-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 20px;
    }

    .style-card {
      padding: 20px;
      border-radius: 20px;
      border: 1px solid #E2E8F0;
      background: #FFFFFF;
      transition: all 0.2s ease;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .style-card.active {
      background: #ECFDF5;
      border-color: #A7F3D0;
      box-shadow: 0 10px 20px rgba(16, 185, 129, 0.08);
    }

    .sync-status {
      margin-top: 12px;
      font-size: 12px;
      font-weight: 600;
      color: #64748B;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .sync-status.ok {
      color: #059669;
    }

    .sync-status.error {
      color: #DC2626;
    }

    .sync-now {
      position: relative;
    }

    .sync-now.is-loading {
      opacity: 0.8;
      cursor: wait;
    }

    .sync-now.is-loading::after {
      content: "";
      position: absolute;
      right: 16px;
      top: 50%;
      width: 12px;
      height: 12px;
      margin-top: -6px;
      border-radius: 50%;
      border: 2px solid rgba(255, 255, 255, 0.6);
      border-top-color: #FFFFFF;
      animation: spin 0.8s linear infinite;
    }

    .btn-primary.is-loading:not(.sync-now),
    .btn-secondary.is-loading {
      position: relative;
      opacity: 0.85;
      cursor: wait;
    }

    .btn-primary.is-loading:not(.sync-now)::after,
    .btn-secondary.is-loading::after {
      content: "";
      position: absolute;
      right: 16px;
      top: 50%;
      width: 12px;
      height: 12px;
      margin-top: -6px;
      border-radius: 50%;
      border: 2px solid rgba(255, 255, 255, 0.6);
      border-top-color: #FFFFFF;
      animation: spin 0.8s linear infinite;
    }

    .btn-secondary.is-loading::after {
      border-color: rgba(100, 116, 139, 0.4);
      border-top-color: #475569;
    }

    .auth-card-panel {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      background: #F8FAFC;
      padding: 12px 14px;
      border-radius: 14px;
      border: 1px solid #F1F5F9;
    }

    .auth-email {
      font-weight: 700;
      color: #1F2937;
      font-size: 13px;
    }

    .auth-action {
      font-size: 12px;
      font-weight: 700;
      color: #EF4444;
      background: transparent;
      border: none;
      cursor: pointer;
    }

    .auth-actions-row {
      display: flex;
      gap: 10px;
    }

    .auth-login-btn {
      flex: 1;
      padding: 10px;
      border-radius: 12px;
      border: 1px solid #E2E8F0;
      background: #FFFFFF;
      font-weight: 600;
      color: #64748B;
      cursor: pointer;
    }

    .auth-signup-btn {
      flex: 1;
      padding: 10px;
      border-radius: 12px;
      border: none;
      background: #059669;
      color: #FFFFFF;
      font-weight: 600;
      cursor: pointer;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    .style-preview {
      background: #F8FAFC;
      border: 1px solid #F1F5F9;
      border-radius: 12px;
      padding: 12px;
      display: flex;
      flex-direction: column;
      gap: 8px;
      font-size: 13px;
    }

    .style-preview-row {
      display: flex;
      gap: 8px;
      align-items: flex-start;
    }

    .style-preview-label {
      text-transform: uppercase;
      font-size: 10px;
      font-weight: 700;
      letter-spacing: 0.12em;
      color: #94A3B8;
      width: 60px;
      flex-shrink: 0;
    }

    .style-preview-after .style-preview-label {
      color: var(--emerald-600);
    }

    .style-preview-text {
      color: #334155;
      font-style: italic;
    }

    .style-preview-after .style-preview-text {
      color: #0F172A;
      font-style: normal;
      font-weight: 600;
    }

    .editor-toolbar {
      display: flex;
      align-items: center;
      gap: 8px;
      padding-bottom: 8px;
      border-bottom: 1px solid #E2E8F0;
      background: #FFFFFF;
    }

    .editor-tool {
      border: none;
      background: #F8FAFC;
      border-radius: 10px;
      padding: 6px;
      cursor: pointer;
      color: #64748B;
      transition: all 0.2s ease;
    }

    .editor-tool:hover {
      background: #E2E8F0;
      color: #0F172A;
    }

    .editor-sep {
      width: 1px;
      height: 18px;
      background: #E2E8F0;
      margin: 0 4px;
    }

    .toast-container {
      position: fixed;
      right: 24px;
      bottom: 24px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      z-index: 60;
      pointer-events: none;
    }

    .toast {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 14px;
      border-radius: 14px;
      background: #FFFFFF;
      border: 1px solid #E2E8F0;
      box-shadow: 0 16px 30px rgba(15, 23, 42, 0.12);
      transform: translateX(120%);
      opacity: 0;
      transition: all 0.35s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      pointer-events: auto;
      cursor: pointer;
      min-width: 280px;
    }

    .toast.show {
      transform: translateX(0);
      opacity: 1;
    }

    .toast-icon {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      background: #ECFDF5;
      color: var(--emerald-600);
    }

    .toast.error .toast-icon {
      background: #FEF2F2;
      color: #DC2626;
    }

    .toast-title {
      font-size: 13px;
      font-weight: 700;
      color: #0F172A;
      margin-bottom: 2px;
    }

    .toast-message {
      font-size: 12px;
      color: #64748B;
    }

    .toast-action {
      margin-left: auto;
      border: none;
      background: #ECFDF5;
      color: var(--emerald-700);
      font-size: 12px;
      font-weight: 700;
      padding: 6px 10px;
      border-radius: 10px;
      cursor: pointer;
    }

    .empty-state {
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 12px;
      padding: 32px 24px;
      text-align: center;
      color: var(--text-muted);
      flex: 1;
    }

    .empty-state.panel {
      border: 1px solid #E2E8F0;
      border-radius: 20px;
      background: #FFFFFF;
    }

    .empty-state.dashed {
      border: 2px dashed #E2E8F0;
      border-radius: 20px;
      background: #FFFFFF;
    }

    .empty-illustration {
      width: 96px;
      height: 96px;
      border-radius: 999px;
      background: #F8FAFC;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: #94A3B8;
    }

    .empty-state h3 {
      font-size: 18px;
      font-weight: 700;
      color: var(--text-main);
    }

    .empty-state p {
      font-size: 13px;
      color: var(--text-muted);
      max-width: 320px;
    }

    .empty-action {
      border: none;
      background: #F1F5F9;
      color: #334155;
      font-weight: 600;
      padding: 10px 14px;
      border-radius: 12px;
      font-size: 13px;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .empty-action:hover {
      background: #E2E8F0;
    }

    .empty-action.primary {
      background: #059669;
      color: #FFFFFF;
      font-weight: 700;
      box-shadow: 0 10px 20px rgba(5, 150, 105, 0.2);
    }

    .empty-action.primary:hover {
      background: #047857;
    }

    .style-card h3 {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 18px;
      font-weight: 700;
    }

    .style-badge {
      font-size: 10px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      padding: 2px 6px;
      border-radius: 6px;
      background: rgba(16, 185, 129, 0.2);
      color: var(--emerald-700);
    }

    .style-card p {
      font-size: 14px;
      color: var(--text-muted);
      margin: 0;
    }

    .style-card button {
      width: 100%;
      padding: 10px;
      border-radius: 12px;
      border: none;
      font-weight: 700;
      cursor: pointer;
      background: #0F172A;
      color: #FFFFFF;
      transition: all 0.2s ease;
      margin-top: auto;
      box-shadow: 0 10px 20px rgba(15, 23, 42, 0.12);
    }

    .style-card button:hover {
      background: #059669;
      box-shadow: 0 12px 22px rgba(5, 150, 105, 0.25);
    }

    .style-card.active button {
      background: #FFFFFF;
      border: 1px solid #A7F3D0;
      color: var(--emerald-700);
      cursor: default;
    }

    .style-card.active button:hover {
      background: #FFFFFF;
      box-shadow: none;
    }

    .settings-stack {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .auth-overlay {
      position: fixed;
      inset: 0;
      background: rgba(4, 47, 46, 0.92);
      backdrop-filter: blur(12px);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 20px;
      z-index: 50;
    }

    .auth-card {
      background: #FFFFFF;
      border-radius: 20px;
      padding: 28px;
      max-width: 360px;
      width: 100%;
      text-align: center;
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 25px 50px rgba(15, 23, 42, 0.3);
    }

    .auth-icon {
      width: 48px;
      height: 48px;
      border-radius: 14px;
      background: var(--emerald-100);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: var(--emerald-600);
      margin-bottom: 16px;
    }

    .auth-card h3 {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .auth-card p {
      font-size: 13px;
      color: var(--text-muted);
      margin-bottom: 20px;
    }

    .auth-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      text-align: left;
    }

    .auth-form label {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      font-weight: 700;
      color: var(--text-muted);
    }

    .auth-form input {
      width: 100%;
      border-radius: 12px;
      border: 1px solid #E2E8F0;
      padding: 10px 12px;
      background: #F8FAFC;
      font-size: 13px;
      font-weight: 600;
      color: var(--text-main);
      transition: all 0.2s ease;
    }

    .auth-form input:focus {
      outline: none;
      border-color: var(--emerald-500);
      box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.18);
      background: #FFFFFF;
    }

    .auth-form .btn-primary {
      width: 100%;
    }

    .auth-actions {
      display: flex;
      gap: 10px;
      margin-top: 12px;
    }

    .auth-actions button {
      flex: 1;
      border-radius: 12px;
      border: 1px solid #E2E8F0;
      background: #FFFFFF;
      padding: 10px;
      font-weight: 600;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    .auth-actions .primary {
      background: #064E3B;
      color: #FFFFFF;
      border: none;
    }

    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.4);
      backdrop-filter: blur(6px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 60;
      opacity: 0;
      transition: opacity 0.2s ease;
    }

    .modal-backdrop.is-visible {
      display: flex;
      opacity: 1;
    }

    .modal-backdrop.notes-modal {
      background: rgba(15, 23, 42, 0.18);
      backdrop-filter: blur(2px);
    }

    .modal-card {
      background: #FFFFFF;
      border-radius: 20px;
      width: 100%;
      max-width: 520px;
      border: 1px solid #E2E8F0;
      box-shadow: 0 25px 50px rgba(15, 23, 42, 0.2);
      overflow: hidden;
      transform: scale(0.96);
      transition: transform 0.2s ease;
    }

    .modal-backdrop.is-visible .modal-card {
      transform: scale(1);
    }

    .modal-header {
      padding: 20px 24px;
      border-bottom: 1px solid #F1F5F9;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: #F8FAFC;
    }

    .modal-body {
      padding: 24px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .modal-footer {
      padding: 18px 24px;
      border-top: 1px solid #F1F5F9;
      display: flex;
      justify-content: flex-end;
      gap: 12px;
      background: #F8FAFC;
    }

    .modal-backdrop.notes-modal .modal-card {
      display: flex;
      flex-direction: column;
      max-width: 980px;
      height: min(82vh, 780px);
    }

    .modal-backdrop.notes-modal .modal-body {
      flex: 1;
      overflow: hidden;
    }

    .note-editor {
      display: flex;
      flex-direction: column;
      gap: 16px;
      height: 100%;
    }

    .note-editor textarea {
      flex: 1;
      resize: none;
    }

    .note-status-row {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 12px;
      font-weight: 600;
      color: #64748B;
    }

    .note-status-detail {
      color: #94A3B8;
      font-weight: 600;
    }

    body.note-focus-active .sidebar,
    body.note-focus-active .top-header {
      display: none;
    }

    body.note-focus-active .main-content {
      padding: 0;
    }

    body.note-focus-active .content-scroll {
      padding: 0;
      height: 100vh;
      overflow: hidden;
    }

    .note-focus-overlay {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.12);
      backdrop-filter: blur(2px);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s ease;
      z-index: 40;
    }

    body.note-focus-active .note-focus-overlay {
      opacity: 1;
      pointer-events: auto;
    }

    .note-focus-view {
      height: 100%;
    }

    body.note-focus-active #view-note-focus {
      position: fixed;
      inset: 0;
      z-index: 50;
    }

    .note-focus-shell {
      height: 100%;
      overflow: auto;
      background: transparent;
      padding: 36px 24px 60px;
    }

    .note-focus-card {
      max-width: 760px;
      margin: 0 auto;
      background: #FFFFFF;
      border-radius: 24px;
      border: 1px solid #E2E8F0;
      box-shadow: 0 24px 60px rgba(15, 23, 42, 0.12);
      padding: 32px 36px 40px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .note-focus-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
    }

    .note-focus-title {
      font-size: 28px;
      font-weight: 800;
      border: none;
      background: transparent;
      padding: 0;
      width: 100%;
    }

    .note-focus-title:focus {
      outline: none;
    }

    .note-focus-meta {
      display: flex;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
      font-size: 12px;
      font-weight: 600;
      color: #64748B;
    }

    .note-focus-meta span {
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .note-focus-editor {
      width: 100%;
      min-height: 220px;
      padding: 10px 2px 40px;
      font-size: 16px;
      line-height: 1.7;
      font-weight: 500;
      color: #0F172A;
      background: transparent;
      border: none;
      outline: none;
    }

    .note-focus-editor:focus {
      outline: none;
    }

    .note-focus-editor:empty::before {
      content: attr(data-placeholder);
      color: #94A3B8;
    }

    .note-focus-editor h1 {
      font-size: 28px;
      line-height: 1.3;
      font-weight: 800;
      margin: 12px 0 4px;
    }

    .note-focus-editor h2 {
      font-size: 22px;
      line-height: 1.35;
      font-weight: 700;
      margin: 10px 0 4px;
    }

    .note-focus-editor h3 {
      font-size: 18px;
      line-height: 1.4;
      font-weight: 700;
      margin: 8px 0 4px;
    }

    .note-focus-editor p {
      margin: 0 0 8px;
      color: #1E293B;
    }

    .note-focus-editor ul {
      margin: 0 0 8px;
      padding-left: 20px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .note-focus-editor blockquote {
      margin: 0 0 8px;
      padding: 12px 16px;
      border-left: 4px solid #CBD5F5;
      background: #F8FAFC;
      color: #475569;
      border-radius: 12px;
    }

    .note-focus-editor pre {
      background: #0F172A;
      color: #E2E8F0;
      padding: 14px 16px;
      border-radius: 14px;
      overflow: auto;
      font-size: 13px;
      line-height: 1.6;
      margin: 0 0 8px;
    }

    .note-focus-editor code {
      background: #E2E8F0;
      color: #0F172A;
      padding: 2px 6px;
      border-radius: 6px;
      font-size: 0.95em;
    }

    .note-focus-editor pre code {
      background: transparent;
      color: inherit;
      padding: 0;
    }

    .note-focus-editor a {
      cursor: pointer;
    }

    .note-focus-toolbar {
      position: fixed;
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 8px 10px;
      border-radius: 12px;
      background: #FFFFFF;
      border: 1px solid #E2E8F0;
      box-shadow: 0 16px 30px rgba(15, 23, 42, 0.18);
      opacity: 0;
      transform: translate(-50%, -110%) scale(0.98);
      pointer-events: none;
      transition: opacity 0.12s ease, transform 0.12s ease;
      z-index: 60;
    }

    .note-focus-toolbar.is-visible {
      opacity: 1;
      transform: translate(-50%, -110%) scale(1);
      pointer-events: auto;
    }

    .note-focus-tool {
      border: none;
      background: #F8FAFC;
      color: #0F172A;
      font-size: 12px;
      font-weight: 700;
      border-radius: 8px;
      padding: 6px 8px;
      cursor: pointer;
    }

    .note-focus-tool:hover {
      background: #E2E8F0;
    }
      font-size: 16px;
      line-height: 1.7;
      color: #0F172A;
    }


    .note-status {
      padding: 4px 10px;
      border-radius: 999px;
      background: #ECFDF3;
      color: #047857;
      font-weight: 700;
    }

    .note-status.is-dirty {
      background: #FEF3C7;
      color: #B45309;
    }

    .note-status.is-saving {
      background: #E0F2FE;
      color: #0369A1;
    }

    .note-status.is-error {
      background: #FEE2E2;
      color: #B91C1C;
    }

    .note-editor-actions {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
    }

    .notes-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 16px;
      flex-wrap: wrap;
    }

    @media (max-width: 900px) {
      .sidebar {
        width: 240px;
      }

      .stats-grid {
        grid-template-columns: 1fr;
      }

      .top-header {
        flex-wrap: wrap;
        gap: 12px;
        height: auto;
        padding: 16px 20px;
      }

      .search-wrap {
        flex-basis: 100%;
        max-width: none;
        margin: 0;
      }
    }
  </style>
</head>
<body>
  <div id="toastContainer" class="toast-container"></div>
  <div id="noteFocusOverlay" class="note-focus-overlay" aria-hidden="true"></div>

  <div id="authOverlay" class="auth-overlay" aria-hidden="true">
    <div class="auth-card">
      <div class="auth-icon">
        <svg class="no-drag" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 15v2m-6 4h12a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2zm10-10V7a4 4 0 0 0-8 0v4h8z"></path></svg>
      </div>
      <h3>Connexion requise</h3>
      <p>Synchronisez vos notes et accdez aux fonctions premium.</p>
      <div id="authOverlayStatus" class="note-status"></div>
      <form id="authOverlayForm" class="auth-form">
        <label for="authOverlayEmail">Adresse email</label>
        <input id="authOverlayEmail" name="email" type="email" autocomplete="email" placeholder="vous@exemple.com" required>
        <label for="authOverlayPassword">Mot de passe</label>
        <input id="authOverlayPassword" name="password" type="password" autocomplete="current-password" placeholder="Votre mot de passe" required>
        <button id="authOverlayLogin" class="btn-primary" type="submit">Se connecter</button>
      </form>
      <div class="auth-actions">
        <button id="authOverlaySignup" type="button">Crer un compte</button>
        <button id="authOverlayRetry" type="button">Ressayer</button>
      </div>
    </div>
  </div>

  <div id="onboardingOverlay" class="onboarding-overlay" aria-hidden="true">
    <div class="onboarding-card">
      <div class="onboarding-header">
        <div>
          <div class="onboarding-kicker">First Run</div>
          <div class="onboarding-title">Prt  dicter en 30 secondes</div>
        </div>
        <button id="onboardingSkip" class="ghost-btn" type="button">Passer / Configurer plus tard</button>
      </div>

      <div id="onboardingStepper" class="onboarding-stepper">
        <div class="onboarding-step" data-step="welcome"><span class="step-index">1</span>Accueil</div>
        <div class="onboarding-step" data-step="permissions"><span class="step-index">2</span>Permission</div>
        <div class="onboarding-step" data-step="mic_check"><span class="step-index">3</span>Micro</div>
        <div class="onboarding-step" data-step="hotkey"><span class="step-index">4</span>Raccourci</div>
        <div class="onboarding-step" data-step="first_dictation"><span class="step-index">5</span>Dicte</div>
        <div class="onboarding-step" data-step="delivery_check"><span class="step-index">6</span>Livraison</div>
        <div class="onboarding-step" data-step="done"><span class="step-index">7</span>Fini</div>
      </div>

      <div class="onboarding-body">
        <div>
          <section class="onboarding-panel" data-step="welcome">
            <h3>Bienvenue, on va le prouver en 1 minute.</h3>
            <p>Vous allez autoriser le micro, vrifier le signal, puis voir un texte s'crire tout seul pour la premire fois.</p>
            <div class="onboarding-actions">
              <button id="onboardingStart" class="btn-primary" type="button">Commencer la configuration</button>
            </div>
          </section>

          <section class="onboarding-panel" data-step="permissions">
            <h3>Autoriser le microphone</h3>
            <p>Windows va afficher une autorisation. Acceptez pour lancer la jauge audio en temps rel.</p>
            <div class="onboarding-actions">
              <button id="onboardingPermissionButton" class="btn-primary" type="button">Autoriser le micro</button>
              <button id="onboardingPrivacyLink" class="btn-secondary" type="button">Ouvrir les paramtres Windows</button>
            </div>
            <div id="onboardingPermissionStatus" class="onboarding-status">Cliquez pour dclencher la demande d'accs.</div>
          </section>

          <section class="onboarding-panel" data-step="mic_check">
            <h3>Test micro</h3>
            <p>Parlez  voix normale. La jauge doit ragir pour valider que le signal passe.</p>
            <div style="display: flex; gap: 12px; flex-wrap: wrap;">
              <select id="onboardingMicrophoneSelect" class="input-select" style="min-width: 220px;"></select>
              <button id="onboardingMicrophoneApply" class="btn-secondary" type="button">Changer de micro</button>
            </div>
            <div class="vu-meter">
              <div id="onboardingVuBar" class="vu-bar"></div>
            </div>
            <div id="onboardingMicStatus" class="onboarding-status">En attente de signal audio...</div>
            <div class="onboarding-actions">
              <button id="onboardingMicContinue" class="btn-primary" type="button" disabled>Continuer</button>
            </div>
          </section>

          <section class="onboarding-panel" data-step="hotkey">
            <h3>Raccourci de dicte</h3>
            <p>Appuyez sur votre combinaison pour lancer CrocoVoice rapidement.</p>
            <div class="shortcut-row" style="margin-top: 12px;">
              <input id="onboardingHotkeyInput" class="input-field shortcut-input" type="text" placeholder="Ctrl+Shift+R" autocomplete="off">
            </div>
            <div id="onboardingHotkeyStatus" class="onboarding-status" style="margin-top: 12px;"></div>
            <div class="onboarding-actions">
              <button id="onboardingHotkeyNext" class="btn-primary" type="button" disabled>Continuer</button>
            </div>
          </section>

          <section class="onboarding-panel" data-step="first_dictation">
            <h3>Le First Run</h3>
            <p>Maintenez le raccourci (ou cliquez) et dites une phrase simple, par exemple "Bonjour monde".</p>
            <textarea id="onboardingSandbox" class="onboarding-sandbox" placeholder="Votre texte transcrit apparatra ici..."></textarea>
            <div class="onboarding-actions">
              <button id="onboardingDictateButton" class="btn-primary" type="button">Dicter maintenant</button>
              <button id="onboardingFirstRunNext" class="btn-secondary" type="button" disabled>Continuer</button>
            </div>
            <div id="onboardingDictationStatus" class="onboarding-status"></div>
            <div id="onboardingSuccessBadge" class="onboarding-success">
              <span class="onboarding-check"></span>
              Succs, la dicte est bien arrive !
            </div>
          </section>

          <section class="onboarding-panel" data-step="delivery_check">
            <h3>Vrification d'injection</h3>
            <p>Testons si Windows autorise l'injection de touches. Sinon, on bascule en mode presse-papier.</p>
            <input id="onboardingDeliveryInput" class="delivery-probe" type="text" placeholder="Zone de test (gardez le focus ici)">
            <div class="onboarding-actions">
              <button id="onboardingDeliveryTestButton" class="btn-primary" type="button">Tester l'injection</button>
              <button id="onboardingDeliveryNext" class="btn-secondary" type="button" disabled>Terminer</button>
            </div>
            <div id="onboardingDeliveryStatus" class="onboarding-status"></div>
          </section>

          <section class="onboarding-panel" data-step="done">
            <h3>Tout est prt.</h3>
            <p>Votre premire dicte est valide. Vous pouvez maintenant utiliser CrocoVoice au quotidien.</p>
            <div class="onboarding-actions">
              <button id="onboardingFinishButton" class="btn-primary" type="button">Aller au dashboard</button>
            </div>
          </section>
        </div>

        <div class="onboarding-panel onboarding-summary">
          <h3>Checklist du first run</h3>
          <p>On coche au fur et  mesure pour un premier succs clair.</p>
          <ul class="onboarding-checklist">
            <li id="onboardingCheckPermission"><span class="check-dot"></span>Permission micro accorde</li>
            <li id="onboardingCheckSignal"><span class="check-dot"></span>Signal audio dtect</li>
            <li id="onboardingCheckHotkey"><span class="check-dot"></span>Raccourci configur</li>
            <li id="onboardingCheckDictation"><span class="check-dot"></span>Texte transcrit en sandbox</li>
            <li id="onboardingCheckDelivery"><span class="check-dot"></span>Livraison OK ou presse-papier activ</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <div id="modalBackdrop" class="modal-backdrop" aria-hidden="true">
    <div class="modal-card">
      <div class="modal-header">
        <h3 id="modalTitle">diter</h3>
        <button id="modalCancel" class="win-control" type="button" aria-label="Fermer">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 18L18 6M6 6l12 12"></path></svg>
        </button>
      </div>
      <div id="modalBody" class="modal-body"></div>
      <div class="modal-footer">
        <button id="modalConfirm" class="btn-primary" type="button">Sauvegarder</button>
      </div>
    </div>
  </div>

  <div class="app-container">
    <aside class="sidebar drag-region">
      <div class="sidebar-effects">
        <div class="orb orb-top"></div>
        <div class="orb orb-bottom"></div>
        <div class="noise"></div>
      </div>
      <div class="sidebar-content">
        <div class="sidebar-brand">
          <div class="brand-mark no-drag">C</div>
          <span class="brand-name">CrocoVoice</span>
        </div>

        <nav class="sidebar-nav custom-scroll no-drag">
          <button class="nav-item active" data-view="home" type="button">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
            <span>Dashboard</span>
          </button>
          <button class="nav-item" data-view="notes" type="button">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>
            <span>Notes</span>
          </button>
          <button class="nav-item" data-view="dictionary" type="button">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 1-4 4v14a3 3 0 0 0 3-3h7z"></path></svg>
            <span>Dictionnaire</span>
          </button>
          <button class="nav-item" data-view="snippets" type="button">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 7H7a2 2 0 0 0-2 2v12"></path><path d="M3 5a2 2 0 0 1 2-2h12"></path><path d="M9 11h6"></path><path d="M9 15h6"></path></svg>
            <span>Snippets</span>
          </button>
          <button class="nav-item" data-view="crocomni" type="button">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a4 4 0 0 1-4 4H7l-4 4V7a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4z"></path></svg>
            <span>CrocOmni</span>
          </button>
          <button class="nav-item" data-view="inbox" type="button">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8"></path><path d="M3 12l4 4h10l4-4"></path><path d="M3 8h18"></path></svg>
            <span>Inbox</span>
          </button>
          <button class="nav-item" data-view="insights" type="button">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3v18h18"></path><path d="M7 14l4-4 4 4 5-6"></path></svg>
            <span>Insights</span>
          </button>
          <button class="nav-item" data-view="context" type="button">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 3v18"></path><path d="M3 12h18"></path></svg>
            <span>Context</span>
          </button>
          <button class="nav-item" data-view="style" type="button">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="14.31" y1="8" x2="20.05" y2="17.94"></line><line x1="9.69" y1="8" x2="21.17" y2="8"></line><line x1="7.38" y1="12" x2="13.12" y2="2.06"></line><line x1="9.69" y1="16" x2="3.95" y2="6.06"></line><line x1="14.31" y1="16" x2="2.83" y2="16"></line><line x1="16.62" y1="12" x2="10.88" y2="21.94"></line></svg>
            <span>Styles</span>
          </button>

          <div class="nav-section">
            <button class="nav-item" data-view="settings" type="button">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.7 1.7 0 0 0 .3 1.9l.1.1a2 2 0 1 1-2.8 2.8l-.1-.1a1.7 1.7 0 0 0-1.9-.3 1.7 1.7 0 0 0-1 1.5V21a2 2 0 0 1-4 0v-.1a1.7 1.7 0 0 0-1-1.5 1.7 1.7 0 0 0-1.9.3l-.1.1a2 2 0 1 1-2.8-2.8l.1-.1a1.7 1.7 0 0 0 .3-1.9 1.7 1.7 0 0 0-1.5-1H3a2 2 0 0 1 0-4h.1a1.7 1.7 0 0 0 1.5-1 1.7 1.7 0 0 0-.3-1.9l-.1-.1a2 2 0 1 1 2.8-2.8l.1.1a1.7 1.7 0 0 0 1.9.3 1.7 1.7 0 0 0 1-1.5V3a2 2 0 0 1 4 0v.1a1.7 1.7 0 0 0 1 1.5 1.7 1.7 0 0 0 1.9-.3l.1-.1a2 2 0 1 1 2.8 2.8l-.1.1a1.7 1.7 0 0 0-.3 1.9 1.7 1.7 0 0 0 1.5 1H21a2 2 0 0 1 0 4h-.1a1.7 1.7 0 0 0-1.5 1z"></path></svg>
              <span>Rglages</span>
            </button>
            <button class="nav-item" data-view="diagnostics" type="button">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 6v6l3 3"></path></svg>
              <span>Diagnostics</span>
            </button>
          </div>
        </nav>

	        <div id="profileCard" class="profile-card no-drag" role="button" tabindex="0" aria-label="Ouvrir le profil et la facturation">
	          <div class="profile-avatar" id="profileAvatar">B</div>
	          <div>
	            <div class="profile-name" id="profileName">Baptiste</div>
	            <div class="profile-plan" id="profilePlan">Plan Pro</div>
	          </div>
	        </div>
      </div>
    </aside>

    <main class="main-content">
	      <header class="top-header drag-region">
	        <div class="breadcrumb no-drag">
	          <span id="breadcrumbPrimary">Dashboard</span>
	          <span>/</span>
	          <span id="breadcrumbSecondary" style="color: var(--emerald-600);">Overview</span>
	        </div>

        <div class="search-wrap no-drag">
          <span class="search-icon">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
          </span>
          <input id="dashboardSearchInput" class="search-input" type="text" placeholder="Rechercher...">
        </div>

        <div class="window-controls no-drag">
          <button class="win-control" data-window-control="minimize" title="Minimize" type="button">
            <svg width="10" height="10" viewBox="0 0 10 2" fill="currentColor"><rect width="10" height="1.5" rx="0.75"></rect></svg>
          </button>
          <button class="win-control" data-window-control="maximize" title="Maximize" type="button">
            <svg width="10" height="10" viewBox="0 0 10 10" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="1" y="1" width="8" height="8" rx="1"></rect></svg>
          </button>
          <button class="win-control close" data-window-control="close" title="Close" type="button">
            <svg width="10" height="10" viewBox="0 0 10 10" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><path d="M1 1l8 8M9 1L1 9"></path></svg>
          </button>
        </div>
      </header>

      <div class="content-scroll custom-scroll">
        <section id="view-home" class="view active" style="max-width: 960px; margin: 0 auto;">
	          <div>
	            <h1 class="section-title">Bonjour, Baptiste </h1>
	            <p id="streakSubtitle" class="section-subtitle">Chargement des statistiques...</p>
	          </div>

          <div class="stats-grid">
            <div class="stat-card">
              <div>
                <h3 id="statDays">3</h3>
                <div class="stat-label">Jours actifs</div>
              </div>
              <div class="stat-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
              </div>
            </div>
            <div class="stat-card">
              <div>
                <h3 id="statWords">496</h3>
                <div class="stat-label">Mots transcrits</div>
              </div>
              <div class="stat-icon" style="background: #DBEAFE; color: #2563EB;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path></svg>
              </div>
            </div>
            <div class="stat-card">
              <div>
                <h3 id="statTotal">24</h3>
                <div class="stat-label">Notes totales</div>
              </div>
              <div class="stat-icon" style="background: #F3E8FF; color: #7C3AED;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
              </div>
            </div>

            <div class="stat-card">
              <div>
                <h3 id="quotaRemaining"></h3>
                <div class="stat-label">Mots restants</div>
                <div class="stat-meta" id="quotaReset">Reset lundi 00:00 UTC</div>
              </div>
              <div class="stat-icon" style="background: #ECFEFF; color: #0E7490;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 6v6l4 2"></path></svg>
              </div>
            </div>
          </div>

          <div class="mesh-banner upgrade-nudge" id="upgradeNudge" aria-hidden="true">
            <div class="mesh-content">
              <div>
                <div class="mesh-title">Plus que <strong id="upgradeNudgeRemaining">500</strong> mots avant le blocage</div>
                <div class="mesh-text">Passez Pro pour dicter sans limite, garder lhistorique complet et continuer sans interruption.</div>
                <div class="quota-bar">
                  <div class="quota-bar-fill" id="upgradeNudgeFill"></div>
                </div>
                <div class="quota-caption" id="upgradeNudgeCaption">Reset lundi 00:00 UTC</div>
              </div>
              <button class="outline-btn upgrade-cta" type="button" id="upgradeNudgeButton">Passer Pro</button>
            </div>
          </div>

          <div class="list-header">
            <div class="list-title">Historique</div>
          </div>

          <div class="list-panel">
            <div id="historyList"></div>
            <div id="historyEmpty" class="empty-state" data-empty-title="C'est bien calme ici" data-empty-body="Votre historique est vide. Commencez par lancer une note pour voir apparatre vos sessions." data-search-title="Aucun rsultat" data-search-body="Nous n'avons rien trouv pour cette recherche." data-error-title="Impossible de charger l'historique" data-error-body="Vrifiez votre connexion et ressayez.">
              <div class="empty-illustration">
                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 7v5l3 3"></path></svg>
              </div>
              <h3 class="empty-title"></h3>
              <p class="empty-body"></p>
              <button class="empty-action" type="button" data-empty-action="notes">Crer une note</button>
            </div>
          </div>
        </section>

        <section id="view-notes" class="view" style="max-width: 720px; margin: 0 auto;">
          <div class="notes-header">
            <div>
              <h1 class="section-title">Notes</h1>
              <p class="section-subtitle">Un espace ddi, spar de lhistorique.</p>
            </div>
            <button id="createNoteButton" class="btn-primary" type="button">Nouvelle note</button>
          </div>

          <div style="margin-top: 32px;">
            <div id="uploadDropzone" class="upload-dropzone" role="button" tabindex="0" aria-label="Importer un fichier audio">
              <div>
                <div class="upload-dropzone-title">Importer un audio dans vos notes</div>
                <div class="upload-dropzone-subtitle">Glissez-dposez un fichier audio ou cliquez pour choisir un fichier.</div>
              </div>
              <button id="uploadAudioButton" class="btn-secondary" type="button">Importer audio</button>
            </div>

            <div id="uploadQueue" class="upload-queue" aria-live="polite" style="margin-top: 16px;"></div>

            <h2 class="form-label" style="font-size: 12px;">Vos notes</h2>
            <div id="notesList" style="display: flex; flex-direction: column; gap: 12px; margin-top: 12px;"></div>
            <div id="notesEmpty" class="empty-state dashed" data-empty-title="Le syndrome de la page blanche ?" data-empty-body="Capturez vos ides  la voix, nous nous occupons de la mise en forme." data-search-title="Aucun rsultat" data-search-body="Aucune note ne correspond  cette recherche.">
              <div class="empty-illustration">
                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>
              </div>
              <h3 class="empty-title"></h3>
              <p class="empty-body"></p>
              <button class="empty-action primary" type="button" data-empty-action="note-editor">Rdiger ma premire note</button>
            </div>
          </div>
        </section>

        <section id="view-note-focus" class="view note-focus-view">
          <div class="note-focus-shell">
            <div class="note-focus-card">
              <div class="note-focus-header">
                <button id="noteFocusBack" class="ghost-btn" type="button"> Notes</button>
                <span id="noteFocusStatus" class="note-status">Enregistr</span>
              </div>
              <input id="noteFocusTitle" class="note-focus-title" type="text" placeholder="Titre de la note...">
              <div class="note-focus-meta">
                <span id="noteFocusTimestamp"></span>
                <span id="noteFocusSource"></span>
              </div>
              <div id="noteFocusEditor" class="note-focus-editor" contenteditable="true" data-placeholder="Commencez  crire votre note..."></div>
            </div>
          </div>
        </section>

        <div id="noteFocusToolbar" class="note-focus-toolbar" aria-hidden="true">
          <button class="note-focus-tool" type="button" data-format="p">Texte</button>
          <button class="note-focus-tool" type="button" data-format="h1">H1</button>
          <button class="note-focus-tool" type="button" data-format="h2">H2</button>
          <button class="note-focus-tool" type="button" data-format="h3">H3</button>
          <button class="note-focus-tool" type="button" data-format="bold">B</button>
          <button class="note-focus-tool" type="button" data-format="italic">I</button>
          <button class="note-focus-tool" type="button" data-format="strike">S</button>
          <button class="note-focus-tool" type="button" data-format="code">Code</button>
          <button class="note-focus-tool" type="button" data-format="quote">Quote</button>
          <button class="note-focus-tool" type="button" data-format="list">Liste</button>
          <button class="note-focus-tool" type="button" data-format="link">Lien</button>
        </div>

        <section id="view-dictionary" class="view" style="max-width: 720px; margin: 0 auto;">
          <div>
            <h1 class="section-title">Dictionnaire</h1>
            <p class="section-subtitle">Apprenez  CrocoVoice votre vocabulaire spcifique.</p>
          </div>

          <div class="dictionary-card" style="margin-top: 24px;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
              <span style="font-weight: 700;">Correction automatique</span>
              <label class="toggle">
                <input type="checkbox" id="misspellingToggle" class="toggle-checkbox">
                <span class="toggle-label"></span>
              </label>
            </div>

            <div class="dictionary-grid" style="margin-top: 16px;">
              <input id="dictionaryWordInput" class="input-field" type="text" placeholder="Mot entendu (ex: Croco)">
              <input id="dictionaryCorrectionInput" class="input-field" type="text" placeholder="Remplacer par (ex: Crocodile)" style="display: none;">
            </div>

            <div class="dictionary-actions">
              <button id="dictionaryCancelButton" class="btn-secondary" type="button">Annuler</button>
              <button id="dictionaryAddButton" class="btn-primary dictionary-add" type="button">
                <span class="btn-icon">+</span>
                <span>Ajouter</span>
              </button>
            </div>
          </div>

          <div class="dictionary-list" id="dictionaryList"></div>
          <div id="dictionaryEmpty" class="empty-state" data-empty-title="Votre dictionnaire est vide" data-empty-body="Ajoutez vos termes mtier pour booster la prcision." data-search-title="Aucun rsultat" data-search-body="Aucune entre ne correspond  cette recherche.">
            <div class="empty-illustration">
              <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 1-4 4v14a3 3 0 0 0 3-3h7z"></path></svg>
            </div>
            <h3 class="empty-title"></h3>
            <p class="empty-body"></p>
            <button class="empty-action" type="button" data-empty-action="dictionary">Ajouter un terme</button>
          </div>
        </section>

        <section id="view-snippets" class="view" style="max-width: 720px; margin: 0 auto;">
          <div>
            <h1 class="section-title">Snippets</h1>
            <p class="section-subtitle">Crez des raccourcis vocaux pour insrer vos templates.</p>
          </div>

          <div class="snippet-card" style="margin-top: 24px;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
              <span style="font-weight: 700;">Nouveau snippet</span>
              <span style="font-size: 12px; color: var(--text-muted);">Astuce: utilisez {{content}}</span>
            </div>

            <div class="snippet-grid" style="margin-top: 16px;">
              <input id="snippetCueInput" class="input-field" type="text" placeholder="Cue (ex: email client)">
              <input id="snippetDescriptionInput" class="input-field" type="text" placeholder="Description (optionnel)">
              <textarea id="snippetTemplateInput" class="input-field snippet-template-input" rows="3" placeholder="Template (ex: Bonjour {{content}}, ...)"></textarea>
            </div>

            <div class="snippet-actions">
              <button id="snippetCancelButton" class="btn-secondary" type="button">Annuler</button>
              <button id="snippetAddButton" class="btn-primary dictionary-add" type="button">
                <span class="btn-icon">+</span>
                <span>Ajouter</span>
              </button>
            </div>
          </div>

          <div class="snippet-list" id="snippetsList"></div>
          <div id="snippetsEmpty" class="empty-state" data-empty-title="Aucun snippet" data-empty-body="Ajoutez votre premier cue pour acclrer vos dictes." data-search-title="Aucun rsultat" data-search-body="Aucun snippet ne correspond  cette recherche.">
            <div class="empty-illustration">
              <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"><path d="M21 7H7a2 2 0 0 0-2 2v12"></path><path d="M3 5a2 2 0 0 1 2-2h12"></path><path d="M9 11h6"></path><path d="M9 15h6"></path></svg>
            </div>
            <h3 class="empty-title"></h3>
            <p class="empty-body"></p>
            <button class="empty-action" type="button" data-empty-action="snippets">Crer un snippet</button>
          </div>
        </section>

        <section id="view-crocomni" class="view" style="max-width: 900px; margin: 0 auto;">
          <div class="section-header">
            <div>
              <h2 class="section-title">CrocOmni</h2>
              <p class="section-subtitle">Recherche locale dans vos notes et dictes.</p>
            </div>
          </div>

          <div class="croc-omni-layout">
            <aside class="croc-omni-sidebar">
              <div class="settings-card">
                <div class="settings-row">
                  <div>
                    <div style="font-weight: 700;">Sources</div>
                    <div class="text-muted">Notes, dictes, ou les deux.</div>
                  </div>
                  <select id="crocOmniSearchSource" class="input-select" style="width: auto;">
                    <option value="all">Tout</option>
                    <option value="notes">Notes</option>
                    <option value="history">Dictes</option>
                  </select>
                </div>
                <div class="settings-row" style="margin-top: 12px;">
                  <div>
                    <div style="font-weight: 700;">Priode</div>
                    <div class="text-muted">Filtrer par date.</div>
                  </div>
                  <select id="crocOmniSearchRange" class="input-select" style="width: auto;">
                    <option value="all">Tout</option>
                    <option value="7">7 jours</option>
                    <option value="30">30 jours</option>
                    <option value="90">90 jours</option>
                    <option value="365">365 jours</option>
                  </select>
                </div>
                <div class="settings-row" style="margin-top: 12px;">
                  <div>
                    <div style="font-weight: 700;">Rpondre avec IA (opt-in)</div>
                    <div class="text-muted">Gnre une rponse  partir des extraits.</div>
                  </div>
                  <input id="crocOmniAiReplyToggle" type="checkbox" class="toggle-checkbox">
                </div>
                <div class="settings-row" style="margin-top: 12px;">
                  <div>
                    <div style="font-weight: 700;">Inclure contenu sensible</div>
                    <div class="text-muted">Envoie des extraits non-redacts.</div>
                  </div>
                  <input id="crocOmniAiSensitiveToggle" type="checkbox" class="toggle-checkbox">
                </div>
              </div>
            </aside>
            <div class="croc-omni-main">
              <div class="croc-omni-search">
                <input id="crocOmniSearchInput" class="input-field" type="text" placeholder="Rechercher dans vos notes et dictes">
                <button id="crocOmniSearchButton" class="btn-primary" type="button">Rechercher</button>
              </div>
              <div id="crocOmniSearchStatus" class="croc-omni-status"></div>
              <div id="crocOmniResults" class="croc-omni-results"></div>

              <div class="croc-omni-answer" id="crocOmniAnswerPanel">
                <div class="croc-omni-answer-header">
                  <div style="font-weight: 800;">Rponse (optionnel)</div>
                  <button id="crocOmniAnswerButton" class="btn-secondary" type="button">Rpondre</button>
                </div>
                <div id="crocOmniAnswerOutput" class="croc-omni-answer-output">Aucune rponse gnre.</div>
              </div>
            </div>
          </div>
        </section>

        <section id="view-inbox" class="view" style="max-width: 760px; margin: 0 auto;">
          <div class="section-header">
            <div>
              <h2 class="section-title">Notifications</h2>
              <p class="section-subtitle">Toutes vos annonces produit et alertes.</p>
            </div>
            <div class="section-actions">
              <button id="notificationsRefresh" class="btn-secondary" type="button">Rafrachir</button>
            </div>
          </div>
          <div id="notificationsList" class="notifications-list"></div>
          <div id="notificationsEmpty" class="empty-state" data-title="Aucune notification" data-body="Les notifications safficheront ici."></div>
        </section>

        <section id="view-insights" class="view" style="max-width: 720px; margin: 0 auto;">
          <div class="section-header">
            <div>
              <h2 class="section-title">Insights</h2>
              <p class="section-subtitle">Vos stats et un mini Wrapped local.</p>
            </div>
            <div class="section-actions">
              <select id="insightsRange" class="input-select" style="width: auto;">
                <option value="7">7 jours</option>
                <option value="30">30 jours</option>
                <option value="90">90 jours</option>
              </select>
            </div>
          </div>
          <div class="insights-grid">
            <div class="settings-card">
              <div class="stat-label">Dictes</div>
              <div id="insightsTotal" class="stat-value">0</div>
            </div>
            <div class="settings-card">
              <div class="stat-label">Mots totaux</div>
              <div id="insightsWords" class="stat-value">0</div>
            </div>
            <div class="settings-card">
              <div class="stat-label">Vitesse moyenne (WPM)</div>
              <div id="insightsAvgWpm" class="stat-value">0</div>
            </div>
            <div class="settings-card">
              <div class="stat-label">Streak</div>
              <div id="insightsStreak" class="stat-value">0 jours</div>
            </div>
          </div>
          <div class="settings-card" style="margin-top: 16px;">
            <div style="font-weight: 700;">Top applications</div>
            <div id="insightsTopApps" class="insights-top-apps"></div>
          </div>
        </section>

        <section id="view-context" class="view" style="max-width: 720px; margin: 0 auto;">
          <div>
            <h1 class="section-title">Context</h1>
            <p class="section-subtitle">Grez la capture de contexte et les profils par application.</p>
          </div>

          <div class="context-grid">
            <div class="settings-card">
              <div style="display: flex; justify-content: space-between; align-items: center; gap: 12px;">
                <div>
                  <div style="font-weight: 700;">Conscience contextuelle</div>
                  <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">Active l'adaptation par application.</div>
                </div>
                <label class="toggle">
                  <input type="checkbox" id="contextEnabledToggle" class="toggle-checkbox">
                  <span class="toggle-label"></span>
                </label>
              </div>
            </div>

            <div class="settings-card">
              <div style="display: flex; justify-content: space-between; align-items: center; gap: 12px;">
                <div>
                  <div style="font-weight: 700;">Post-process contextuel</div>
                  <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">Utilise app/fentre/URL (redact) pour mieux corriger les noms propres.</div>
                </div>
                <label class="toggle">
                  <input type="checkbox" id="contextPostProcessToggle" class="toggle-checkbox">
                  <span class="toggle-label"></span>
                </label>
              </div>
            </div>

            <div class="settings-card">
              <div style="font-weight: 700;">Signaux capturs</div>
              <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">Les signaux sensibles sont opt-in.</div>
              <div class="context-signal-grid">
                <label class="context-signal-row">
                  <span>App</span>
                  <input type="checkbox" id="contextSignalApp">
                </label>
                <label class="context-signal-row">
                  <span>Fentre</span>
                  <input type="checkbox" id="contextSignalWindow">
                </label>
                <label class="context-signal-row">
                  <span>URL</span>
                  <input type="checkbox" id="contextSignalUrl">
                </label>
                <label class="context-signal-row">
                  <span>AX / Accessibilit</span>
                  <input type="checkbox" id="contextSignalAx">
                </label>
                <label class="context-signal-row">
                  <span>Textbox</span>
                  <input type="checkbox" id="contextSignalTextbox">
                </label>
                <label class="context-signal-row">
                  <span>Screenshot</span>
                  <input type="checkbox" id="contextSignalScreenshot">
                </label>
              </div>
            </div>

            <div class="settings-card">
              <div style="font-weight: 700;">Rtention & suppression</div>
              <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">Par dfaut, 30 jours.</div>
              <div style="display: flex; gap: 12px; align-items: center; margin-top: 12px;">
                <input id="contextRetentionInput" class="input-field" type="number" min="1" step="1" placeholder="30" style="max-width: 120px;">
                <button id="contextRetentionSave" class="btn-secondary" type="button">Sauvegarder</button>
                <button id="contextDeleteAll" class="btn-secondary" type="button">Supprimer tout le contexte</button>
              </div>
            </div>

            <div class="settings-card">
              <div style="font-weight: 700;">App active</div>
              <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">Prvisualisez les signaux et overrides.</div>
              <div style="margin-top: 12px;">
                <div><strong>App:</strong> <span id="contextActiveApp"></span></div>
                <div style="margin-top: 4px;"><strong>Fentre:</strong> <span id="contextActiveWindow"></span></div>
                <div style="margin-top: 4px;"><strong>URL:</strong> <span id="contextActiveUrl"></span></div>
              </div>
              <div style="display: flex; gap: 12px; align-items: center; margin-top: 12px;">
                <select id="contextOverrideMode" class="input-select" style="width: auto;">
                  <option value="inherit">Hriter du global</option>
                  <option value="off">Forcer OFF</option>
                  <option value="on">Forcer ON</option>
                </select>
                <select id="contextOverrideProfile" class="input-select" style="width: auto;">
                  <option value="">Profil</option>
                </select>
              </div>
              <div style="margin-top: 12px;">
                <div style="font-size: 12px; color: var(--text-muted); margin-bottom: 6px;">Overrides signaux (optionnel)</div>
                <div class="context-signal-grid">
                  <label class="context-signal-row">
                    <span>App</span>
                    <input type="checkbox" id="contextOverrideSignalApp">
                  </label>
                  <label class="context-signal-row">
                    <span>Fentre</span>
                    <input type="checkbox" id="contextOverrideSignalWindow">
                  </label>
                  <label class="context-signal-row">
                    <span>URL</span>
                    <input type="checkbox" id="contextOverrideSignalUrl">
                  </label>
                  <label class="context-signal-row">
                    <span>AX / Accessibilit</span>
                    <input type="checkbox" id="contextOverrideSignalAx">
                  </label>
                  <label class="context-signal-row">
                    <span>Textbox</span>
                    <input type="checkbox" id="contextOverrideSignalTextbox">
                  </label>
                  <label class="context-signal-row">
                    <span>Screenshot</span>
                    <input type="checkbox" id="contextOverrideSignalScreenshot">
                  </label>
                </div>
              </div>
              <div style="margin-top: 8px; font-size: 12px; color: var(--text-muted);">
                Suggestion: <span id="contextSuggestion"></span>
                <button id="contextSuggestionApply" class="btn-secondary" type="button" style="margin-left: 8px;">Appliquer</button>
              </div>
            </div>

            <div class="settings-card">
              <div style="display: flex; justify-content: space-between; align-items: center; gap: 12px;">
                <div>
                  <div style="font-weight: 700;">Profils d'app</div>
                  <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">Rgles simples et dterministes.</div>
                </div>
                <button id="contextProfileCreate" class="btn-primary dictionary-add" type="button">
                  <span class="btn-icon">+</span>
                  <span>Nouveau</span>
                </button>
              </div>
              <div id="contextProfileList" class="context-profile-list" style="margin-top: 12px;"></div>
            </div>

            <div class="settings-card">
              <div style="font-weight: 700;">Test rapide</div>
              <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">Prvisualisez un profil avec un exemple.</div>
              <div style="display: flex; gap: 12px; margin-top: 12px; flex-wrap: wrap;">
                <select id="contextPreviewProfile" class="input-select" style="width: auto;">
                  <option value="">Choisir un profil</option>
                </select>
                <button id="contextPreviewButton" class="btn-secondary" type="button">Prvisualiser</button>
              </div>
              <textarea id="contextPreviewInput" class="input-field" rows="3" style="margin-top: 12px;" placeholder="Entrez un exemple..."></textarea>
              <textarea id="contextPreviewOutput" class="input-field" rows="3" style="margin-top: 12px;" placeholder="Rsultat..." readonly></textarea>
            </div>
          </div>
        </section>

	        <section id="view-style" class="view" style="max-width: 900px; margin: 0 auto;">
	          <div>
	            <h1 class="section-title">Styles & Persona</h1>
	            <p class="section-subtitle">L'IA adapte le ton de la transcription  votre audience.</p>
	          </div>

          <div id="styleList" class="style-grid" style="margin-top: 24px;"></div>
          <div id="styleEmpty" class="empty-state" data-empty-title="Aucun style disponible" data-empty-body="Rechargez vos styles pour personnaliser la sortie." data-search-title="Aucun rsultat" data-search-body="Aucun style ne correspond  cette recherche.">
            <div class="empty-illustration">
              <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M8 12h8"></path><path d="M12 8v8"></path></svg>
            </div>
            <h3 class="empty-title"></h3>
            <p class="empty-body"></p>
            <button class="empty-action" type="button" data-empty-action="styles">Recharger les styles</button>
	          </div>
	        </section>

	        <section id="view-account" class="view" style="max-width: 720px; margin: 0 auto;">
	          <div>
	            <h1 class="section-title">Profil & Facturation</h1>
	            <p class="section-subtitle">Grez votre compte, votre synchronisation et votre abonnement.</p>
	          </div>

	          <div class="settings-stack" style="margin-top: 24px;">
	            <div class="settings-card">
	              <h3 style="font-size: 16px; font-weight: 700; margin-bottom: 16px;">Compte</h3>
	              <div id="authPanel" style="margin-bottom: 16px;"></div>
	              <button id="syncNowButton" class="btn-primary sync-now" type="button" style="width: 100%;">Synchroniser maintenant</button>
	              <div id="syncStatus" class="sync-status"></div>
	            </div>

	            <div class="settings-card">
	              <div class="subscription-panel">
	                <div class="subscription-row">
	                  <div>
	                    <div style="font-weight: 700;">Abonnement</div>
	                    <div id="subscriptionStatus" class="subscription-status">Plan Free</div>
	                  </div>
	                  <span id="subscriptionBadge" class="subscription-badge free">Free</span>
	                </div>
	                <div class="subscription-actions">
	                  <button id="upgradePlanButton" class="btn-primary" type="button">Passer Pro</button>
	                  <button id="manageSubscriptionButton" class="btn-secondary" type="button">Grer mon abonnement</button>
	                  <button id="refreshSubscriptionButton" class="btn-secondary" type="button">Actualiser</button>
	                </div>
	                <div id="subscriptionNote" class="subscription-note"></div>
	              </div>
	            </div>
	          </div>
	        </section>

	        <section id="view-settings" class="view" style="max-width: 640px; margin: 0 auto;">
	          <div>
	            <h1 class="section-title">Rglages</h1>
	            <p class="section-subtitle">Personnalisez votre exprience d'enregistrement.</p>
	          </div>

          <div class="settings-stack" style="margin-top: 24px;">
            <div class="settings-card">
              <h3 style="font-size: 16px; font-weight: 700; margin-bottom: 16px;">Gnral</h3>
              <label class="form-label">Langue de transcription</label>
              <input id="languageInput" class="input-field" type="text" data-setting="language">
              <p id="apiKeyStatus" style="margin-top: 12px; font-size: 12px; font-weight: 600; display: flex; align-items: center; gap: 8px; color: var(--emerald-600);">
                <span style="width: 8px; height: 8px; border-radius: 999px; background: var(--emerald-500);"></span>
                API OpenAI connecte
              </p>
              <div style="margin-top: 16px;">
                <label class="form-label">Microphone</label>
                <select id="microphoneSelect" class="input-select" data-setting="microphoneId"></select>
              </div>

              <div style="margin-top: 16px;">
                <label class="form-label" for="shortcutInput">Raccourci de dicte</label>
                <div class="shortcut-row">
                  <input id="shortcutInput" class="input-field shortcut-input" type="text" data-setting="shortcut" autocomplete="off" spellcheck="false" readonly>
                  <button id="shortcutResetButton" class="btn-secondary shortcut-reset" type="button">Reset</button>
                </div>
                <div class="shortcut-help" id="shortcutHelp">Cliquez dans le champ puis appuyez sur votre combinaison.</div>
              </div>

              <div style="margin-top: 16px;">
                <label class="form-label">Onboarding</label>
                <button id="onboardingResetButton" class="btn-secondary" type="button">Recommencer l'onboarding</button>
              </div>
            </div>

	            <div class="settings-card">
	              <div style="display: flex; justify-content: space-between; align-items: center; gap: 12px;">
	                <div>
	                  <div style="font-weight: 700;">Post-traitement IA</div>
	                  <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">Corrige la grammaire et formate automatiquement.</div>
	                </div>
                <select id="postProcessToggle" class="input-select" data-setting="postProcessEnabled" style="width: auto;">
                  <option value="true">Activ</option>
	                  <option value="false">Dsactiv</option>
	                </select>
	              </div>
	            </div>
            <div class="settings-card">
              <div style="display: flex; justify-content: space-between; align-items: center; gap: 12px;">
                <div>
                  <div style="font-weight: 700;">Mesures de qualit</div>
                  <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">Enregistre la latence et les carts pour amliorer la transcription.</div>
                </div>
                <select id="metricsToggle" class="input-select" data-setting="metricsEnabled" style="width: auto;">
                  <option value="true">Activ</option>
                  <option value="false">Dsactiv</option>
                </select>
              </div>
            </div>

            <div class="settings-card">
              <div style="display: flex; justify-content: space-between; align-items: center; gap: 12px;">
                <div>
                  <div style="font-weight: 700;">Diagnostics audio</div>
                  <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">RMS, bruit et clipping pour dcider dun rehaussement local.</div>
                </div>
                <select id="audioDiagnosticsToggle" class="input-select" data-setting="audioDiagnosticsEnabled" style="width: auto;">
                  <option value="true">Activ</option>
                  <option value="false">Dsactiv</option>
                </select>
              </div>
            </div>

            <div class="settings-card">
              <div style="display: flex; justify-content: space-between; align-items: center; gap: 12px;">
                <div>
                  <div style="font-weight: 700;">Tlmtrie (opt-in)</div>
                  <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">Exporte des mtriques anonymises via Diagnostics.</div>
                </div>
                <select id="telemetryOptInToggle" class="input-select" data-setting="telemetryOptIn" style="width: auto;">
                  <option value="false">Dsactiv</option>
                  <option value="true">Activ</option>
                </select>
              </div>
              <div style="margin-top: 12px;">
                <label class="form-label">Inclure contexte sensible</label>
                <select id="telemetrySensitiveToggle" class="input-select" data-setting="telemetryIncludeSensitive" style="width: auto;">
                  <option value="false">Non</option>
                  <option value="true">Oui</option>
                </select>
              </div>
            </div>

            <div class="settings-card">
              <div style="font-weight: 700;">Feature flags distants</div>
              <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">URL JSON + TTL pour rollouts.</div>
              <div style="margin-top: 12px;">
                <label class="form-label">URL remote</label>
                <input class="input-field" type="text" data-setting="featureFlagsRemoteUrl" placeholder="https://.../flags.json">
              </div>
              <div style="margin-top: 12px;">
                <label class="form-label">TTL (ms)</label>
                <input class="input-field" type="number" min="60000" step="1000" data-setting="featureFlagsTtlMs" placeholder="300000">
              </div>
            </div>

            <div class="settings-card">
              <div style="font-weight: 700;">Notifications</div>
              <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">Endpoint JSON pour inbox produit.</div>
              <div style="margin-top: 12px;">
                <label class="form-label">Notifications actives</label>
                <select class="input-select" data-setting="notificationsEnabled" style="width: auto;">
                  <option value="true">Activ</option>
                  <option value="false">Dsactiv</option>
                </select>
              </div>
              <div style="margin-top: 12px;">
                <label class="form-label">Endpoint</label>
                <input class="input-field" type="text" data-setting="notificationsEndpoint" placeholder="https://.../notifications.json">
              </div>
              <div style="margin-top: 12px;">
                <label class="form-label">Polling (minutes)</label>
                <input class="input-field" type="number" min="5" step="5" data-setting="notificationsPollMinutes" placeholder="60">
              </div>
              <div style="margin-top: 12px;">
                <label class="form-label">Types silencs (comma)</label>
                <input class="input-field" type="text" data-setting="notificationsMutedTypes" placeholder="billing, marketing">
              </div>
              <div style="margin-top: 12px;">
                <label class="form-label">Rtention (jours)</label>
                <input class="input-field" type="number" min="7" step="1" data-setting="notificationsRetentionDays" placeholder="30">
              </div>
            </div>

            <div class="settings-card">
              <div style="display: flex; justify-content: space-between; align-items: center; gap: 12px;">
                <div>
                  <div style="font-weight: 700;">ASR local (optionnel)</div>
                  <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">Commande locale pour transcrire sans cloud.</div>
                </div>
                <select class="input-select" data-setting="localAsrEnabled" style="width: auto;">
                  <option value="false">Dsactiv</option>
                  <option value="true">Activ</option>
                </select>
              </div>
              <div style="margin-top: 12px;">
                <label class="form-label">Commande</label>
                <input class="input-field" type="text" data-setting="localAsrCommand" placeholder="/usr/local/bin/local-asr">
              </div>
              <div style="margin-top: 12px;">
                <label class="form-label">Timeout (ms)</label>
                <input class="input-field" type="number" min="10000" step="1000" data-setting="localAsrMaxDurationMs" placeholder="60000">
              </div>
            </div>

            <div class="settings-card">
              <div style="display: flex; justify-content: space-between; align-items: center; gap: 12px;">
                <div>
                  <div style="font-weight: 700;">Enhancement audio local</div>
                  <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">Applique un rehaussement si audio dgrad.</div>
                </div>
                <select class="input-select" data-setting="localEnhancementEnabled" style="width: auto;">
                  <option value="false">Dsactiv</option>
                  <option value="true">Activ</option>
                </select>
              </div>
              <div style="margin-top: 12px;">
                <label class="form-label">Commande</label>
                <input class="input-field" type="text" data-setting="localEnhancementCommand" placeholder="/usr/local/bin/audio-enhance">
              </div>
              <div style="margin-top: 12px;">
                <label class="form-label">Timeout (ms)</label>
                <input class="input-field" type="number" min="5000" step="1000" data-setting="localEnhancementMaxDurationMs" placeholder="20000">
              </div>
            </div>

            <div class="settings-card">
              <div style="display: flex; justify-content: space-between; align-items: center; gap: 12px;">
                <div>
                  <div style="font-weight: 700;">Transcription de fichiers</div>
                  <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">Fallback cloud requis pour traiter un fichier local.</div>
                </div>
                <select id="uploadCloudFallbackToggle" class="input-select" data-setting="uploadCloudFallback" style="width: auto;">
                  <option value="false">Dsactiv</option>
                  <option value="true">Activ</option>
                </select>
              </div>
              <div style="margin-top: 12px;">
                <label class="form-label">Taille max (MB)</label>
                <input id="uploadMaxMbInput" class="input-field" type="number" min="10" step="10" data-setting="uploadMaxMb" placeholder="200">
              </div>
            </div>

            <div class="settings-card">
              <div>
                <div style="font-weight: 700;">Streaming (dprci)</div>
                <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">Fonctionnalit dsactive temporairement pour stabilit.</div>
              </div>
            </div>
          </div>
	        </section>

	        <section id="view-diagnostics" class="view" style="max-width: 720px; margin: 0 auto;">
	          <div>
	            <h1 class="section-title">Diagnostics</h1>
	            <p class="section-subtitle">Etat des permissions, livraisons et flags.</p>
	          </div>

            <div class="settings-stack" style="margin-top: 24px;">
              <div class="settings-card">
                <div style="display: flex; justify-content: space-between; align-items: center; gap: 12px;">
                  <div>
                    <div style="font-weight: 700;">Auto-checks</div>
                    <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">Micro, raccourci, presse-papier.</div>
                  </div>
                  <button id="diagnosticsRunChecks" class="btn-secondary" type="button">Lancer les checks</button>
                </div>
                <div id="diagnosticsChecks" style="margin-top: 12px; font-size: 12px; color: var(--text-muted);"></div>
              </div>

              <div class="settings-card">
                <div style="display: flex; justify-content: space-between; align-items: center; gap: 12px;">
                  <div>
                    <div style="font-weight: 700;">Rsum</div>
                    <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">Versions, flags et derniers vnements.</div>
                  </div>
                  <button id="diagnosticsCopy" class="btn-secondary" type="button">Copier</button>
                </div>
                <pre id="diagnosticsOutput" class="input-textarea" style="margin-top: 12px; white-space: pre-wrap;"></pre>
              </div>

              <div class="settings-card">
                <div style="display: flex; justify-content: space-between; align-items: center; gap: 12px;">
                  <div>
                    <div style="font-weight: 700;">Export tlmtrie</div>
                    <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">Export opt-in avec contenu redig.</div>
                  </div>
                  <button id="telemetryExport" class="btn-secondary" type="button">Gnrer</button>
                </div>
                <pre id="telemetryOutput" class="input-textarea" style="margin-top: 12px; white-space: pre-wrap;"></pre>
              </div>
            </div>
	        </section>

	        <section id="view-diff" class="view" style="max-width: 860px; margin: 0 auto;">
	          <div>
	            <h1 class="section-title">Polish</h1>
	            <p class="section-subtitle">Avant / Aprs pour la dernire dicte.</p>
	          </div>
            <div class="settings-card" style="margin-top: 24px;">
              <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 16px;">
                <div>
                  <div class="form-label">Avant</div>
                  <textarea id="diffBefore" class="input-textarea" rows="8" readonly></textarea>
                </div>
                <div>
                  <div class="form-label">Aprs</div>
                  <textarea id="diffAfter" class="input-textarea" rows="8" readonly></textarea>
                </div>
              </div>
            </div>
	        </section>
      </div>
    </main>
  </div>

  <script src="dashboard.js"></script>
</body>
</html>
